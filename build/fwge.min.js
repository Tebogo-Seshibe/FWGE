(function(){function n(b,a){var c=b;Object.defineProperties(this,{Type:{value:a},GameObject:{get:function(){return c},set:function(a){if(a instanceof u||void 0===a)c=a}}})}function x(b){b||(b={});console.log(FWGE);b.position||(b.position=FWGE.Maths.Vector3.Create());b.position instanceof Float32Array&&3===b.length||(b.position=FWGE.Maths.Vector3.Create(b.position));b.rotation||(b.rotation=FWGE.Maths.Vector3.Create());b.rotation instanceof Float32Array&&3===b.length||(b.rotation=FWGE.Maths.Vector3.Create(b.rotation));
b.scale||(b.scale=FWGE.Maths.Vector3.Create());b.scale instanceof Float32Array&&3===b.length||(b.scale=FWGE.Maths.Vector3.Create(1,1,1));b.shear||(b.shear=FWGE.Maths.Vector3.Create());b.shear instanceof Float32Array&&3===b.length||(b.shear=FWGE.Maths.Vector3.Create(b.shear));n.call(this,b.gameobject,"TRANSFORM");var a=b.position,c=b.rotation,e=b.scale,g=b.shear,f=FWGE.Maths.Vector3.Create(0,1,0),h=FWGE.Maths.Vector3.Create(0,0,1),k=FWGE.Maths.Vector3.Create(1,0,0);Object.defineProperties(this,{Position:{get:function(){return a},
set:function(b){b instanceof Float32Array&&3===b.length&&FWGE.Maths.Vector3.Set(a,b)}},Rotation:{get:function(){return c},set:function(a){a instanceof Float32Array&&3===a.length&&FWGE.Maths.Vector3.Set(c,a)}},Scale:{get:function(){return e},set:function(a){a instanceof Float32Array&&3===a.length&&FWGE.Maths.Vector3.Set(e,a)}},Shear:{get:function(){return g},set:function(a){a instanceof Float32Array&&3===a.length&&FWGE.Maths.Vector3.Set(g,a)}},Up:{get:function(){return f}},Forward:{get:function(){return h}},
Right:{get:function(){return k}},TransformUpdate:{value:function(){}}});this.TransformUpdate()}function C(b){console.log(b);n.call(this,void 0,"MESH");Object.defineProperties(this,{VertexCount:{value:b.indices.length},PositionBuffer:{value:c.createBuffer()},UVBuffer:{value:b.uvs?c.createBuffer():void 0},ColourBuffer:{value:b.colours?c.createBuffer():void 0},NormalBuffer:{value:b.normals?c.createBuffer():void 0},IndexBuffer:{value:c.createBuffer()}});c.bindBuffer(c.ARRAY_BUFFER,this.PositionBuffer);
c.bufferData(c.ARRAY_BUFFER,new Float32Array(b.position),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,this.UVBuffer);c.bufferData(c.ARRAY_BUFFER,new Float32Array(b.uvs),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,this.ColourBuffer);c.bufferData(c.ARRAY_BUFFER,new Float32Array(b.colours),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,this.NormalBuffer);c.bufferData(c.ARRAY_BUFFER,new Float32Array(b.normals),c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.IndexBuffer);c.bufferData(c.ELEMENT_ARRAY_BUFFER,
new Uint16Array(b.indices),c.STATIC_DRAW);K.push(this)}function v(b){b||(b={});b.ambient&&"COLOUR"===b.ambient.Type||(b.ambient=FWGE.Render.Colour.Create(b.ambient));b.diffuse&&"COLOUR"===b.diffuse.Type||(b.diffuse=FWGE.Render.Colour.Create(b.diffuse));b.specular&&"COLOUR"===b.specular.Type||(b.specular=FWGE.Render.Colour.Create(b.specular));"number"!==typeof b.alpha&&(b.alpha=1);"number"!==typeof b.shininess&&(b.shininess=5);b.shader||(b.shader=void 0);b.imagemap||(b.imagemap=void 0);b.bumpmap||
(b.bumpmap=void 0);console.log(b);n.call(this,void 0,"MATERIAL");var a=b.ambient,c=b.diffuse,e=b.specular,g=b.alpha,f=b.shininess,h=b.shader,k=void 0,l=void 0;Object.defineProperties(this,{Ambient:{get:function(){return a},set:function(b){b instanceof Float32Array&&3===b.length&&FWGE.Maths.Vector3.Set(a,b)}},Diffuse:{get:function(){return c},set:function(a){a instanceof Float32Array&&3===a.length&&FWGE.Maths.Vector3.Set(c,a)}},Specular:{get:function(){return e},set:function(a){a instanceof Float32Array&&
3===a.length&&FWGE.Maths.Vector3.Set(e,a)}},Alpha:{get:function(){return g},set:function(a){"number"===typeof a&&(g=a)}},Shininess:{get:function(){return f},set:function(a){"number"===typeof a&&(f=a)}},Shader:{get:function(){return h},set:function(a){a instanceof D&&(h=a)}},Image:{get:function(){return k},set:function(a){if(a instanceof WebGLTexture||void 0===a)k=a}},Bump:{get:function(){return l},set:function(a){if(a instanceof WebGLTexture||void 0===a)l=a}}});L.push(this)}function M(b){n.call(this,
b.gameobject,"COLLISION")}function E(b){n.call(this,b.gameobject,"ANIMATION")}function F(b){n.call(this,b.gameobject,"PARTICLESYSTEM")}function G(b){n.call(this,b.gameobject,"PHYSICS")}function u(b){b||(b={});b.name||(b.name="GameObject");b.material||(b.material=void 0);b.mesh||(b.mesh=void 0);b.transform||(b.transform=new x({gameobject:this}));b.physicsitem||(b.physicsitem=void 0);b.animation||(b.animation=void 0);b.lightitem||(b.lightitem=void 0);b.begin||(b.begin=function(){});b.update||(b.update=
function(){});b.end||(b.end=function(){});console.log(b);n.call(this,this,"GAMEOBJECT");var a=b.name,c=b.material,e=b.mesh,g=b.physicsitem,f=b.animation,h=b.particlesystem,k=b.begin,l=b.update,m=b.end;Object.defineProperties(this,{ID:{value:"[go-"+N.next()+"]"},Children:{value:[]},Transform:{value:b.transform},Name:{get:function(){return a},set:function(b){"string"===typeof b&&(a=b)}},Material:{get:function(){return c},set:function(a){if(a instanceof v||void 0===a)c=a}},Mesh:{get:function(){return e},
set:function(a){if(a instanceof C||void 0===a)e=a}},PhysicsItem:{get:function(){return g},set:function(a){if(a instanceof G||void 0===a)g=a}},Animation:{get:function(){return f},set:function(a){if(a instanceof E||void 0===a)f=a}},ParticleSystem:{get:function(){return h},set:function(a){if(a instanceof F||void 0===a)h=a}},Begin:{get:function(){return k},set:function(a){if("function"===typeof a||void 0===a)k=a}},Update:{get:function(){return l},set:function(a){if("function"===typeof a||void 0===a)l=
a}},End:{get:function(){return m},set:function(a){if("function"===typeof a||void 0===a)m=a}}});p.push(this)}function O(){Object.defineProperties(this,{GameObject:{value:u},Mesh:{value:C},Material:{value:v},Transform:{value:x},PhysicsItem:{value:G},Collision:{value:M},Animation:{value:E},ParticleSystem:{value:F}})}function P(){function b(){var a=[];console.log(arguments);if(0===arguments[1].length)a="undefined";else for(var b in arguments[1])a.push(typeof arguments[1][b]);switch(arguments[0]){case "SET":console.error(Error("No match for given parameters: "+
a.toString()+"\n\tFWGE.Maths.Matrix2.Set(Float32Array, Float32Array)\n\tFWGE.Maths.Matrix2.Set(Float32Array, number, number, number, number)"))}}Object.defineProperties(this,{Create:{value:function(a,b,c,g){var d=new Float32Array(4);d[0]="number"===typeof a?a:a instanceof Array&&"number"===typeof a[0]?a[0]:0;d[1]="number"===typeof b?b:a instanceof Array&&"number"===typeof a[1]?a[1]:0;d[2]="number"===typeof c?c:a instanceof Array&&"number"===typeof a[2]?a[2]:0;d[3]="number"===typeof g?g:a instanceof
Array&&"number"===typeof a[3]?a[3]:0;Object.defineProperties(d,{Type:{value:"MATRIX2"},M11:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},M12:{get:function(){return d[1]},set:function(a){"number"===typeof a&&(d[1]=a)}},M21:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}},M22:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}}});return d}},Set:{value:function(){var a,c,e,g,f;a=arguments[0];arguments[1]instanceof Float32Array&&
4===arguments[0].length?(c=arguments[1][0],e=arguments[1][1],g=arguments[1][2],f=arguments[1][3]):(c=arguments[1],e=arguments[2],g=arguments[3],f=arguments[4]);if(a instanceof Float32Array&&4===arguments[0].length&&"number"===typeof c&&"number"===typeof e&&"number"===typeof g&&"number"===typeof f)return a[0]=c,a[1]=e,a[2]=g,a[3]=f,a;b("SET",arguments)}},Transpose:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length)return this.Set(arguments[0],arguments[0][0],arguments[0][2],
arguments[0][1],arguments[0][3]);b("TRANSPOSE",arguments)}},Identity:{value:function(a){return a instanceof Float32Array&&4===a.length?this.Set(a,1,0,0,1):this.Create(1,0,0,1)}},Determinant:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length)return arguments[0][0]*arguments[0][3]-arguments[0][2]*arguments[0][1];b("DETERMINANT",arguments)}},Inverse:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length){var a=this.Determinant(arguments[0]);return 0!==
a?this.Set(arguments[0],arguments[0][3]/a,-arguments[0][1]/a,-arguments[0][2]/a,arguments[0][0]/a):arguments[0]}b("INVERSE",arguments)}},Sum:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length&&arguments[1]instanceof Float32Array&&4===arguments[1].length)return this.Set(arguments[0],arguments[0][0]+arguments[1][0],arguments[0][1]+arguments[1][1],arguments[0][2]+arguments[1][2],arguments[0][3]+arguments[1][3]);b("SUM",arguments)}},Mult:{value:function(){if(arguments[0]instanceof
Float32Array&&4===arguments[0].length){if(arguments[1]instanceof Float32Array&&4===arguments[1].length)return this.Set(arguments[0],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][2],arguments[0][0]*arguments[1][1]+arguments[0][1]*arguments[1][3],arguments[0][2]*arguments[1][0]+arguments[0][3]*arguments[1][2],arguments[0][2]*arguments[1][1]+arguments[0][3]*arguments[1][3]);if("number"===typeof arguments[1])return this.Set(arguments[0],arguments[0][0]*arguments[1],arguments[0][1]*arguments[1],
arguments[0][2]*arguments[1],arguments[0][3]*arguments[1])}b("MULT",arguments)}},RevMult:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length&&arguments[1]instanceof Float32Array&&4===arguments[1].length)return this.Set(arguments[0],arguments[1][0]*arguments[0][0]+arguments[1][1]*arguments[0][2],arguments[1][0]*arguments[0][1]+arguments[1][1]*arguments[0][3],arguments[1][2]*arguments[0][0]+arguments[1][3]*arguments[0][2],arguments[1][2]*arguments[0][1]+arguments[1][3]*
arguments[0][3]);b("REVMULT",arguments)}}})}function Q(){function b(){var a=[];console.log(arguments);if(0===arguments[1].length)a="undefined";else for(var b in arguments[1])a.push(typeof arguments[1][b]);switch(arguments[0]){case "SET":console.error(Error("No match for given parameters: "+a.toString()+"\n\tFWGE.Maths.Matrix2.Set(Float32Array, Float32Array)\n\tFWGE.Maths.Matrix2.Set(Float32Array, number, number, number, number)"))}}Object.defineProperties(this,{Create:{value:function(a,b,c,g,f,h,
k,l,m){var d=new Float32Array(9);d[0]="number"===typeof a?a:a instanceof Array&&"number"===typeof a[0]?a[0]:0;d[1]="number"===typeof b?b:a instanceof Array&&"number"===typeof a[1]?a[1]:0;d[2]="number"===typeof c?c:a instanceof Array&&"number"===typeof a[2]?a[2]:0;d[3]="number"===typeof g?g:a instanceof Array&&"number"===typeof a[3]?a[3]:0;d[4]="number"===typeof f?f:a instanceof Array&&"number"===typeof a[4]?a[4]:0;d[5]="number"===typeof h?h:a instanceof Array&&"number"===typeof a[5]?a[5]:0;d[6]="number"===
typeof k?k:a instanceof Array&&"number"===typeof a[6]?a[6]:0;d[7]="number"===typeof l?l:a instanceof Array&&"number"===typeof a[7]?a[7]:0;d[8]="number"===typeof m?m:a instanceof Array&&"number"===typeof a[8]?a[8]:0;Object.defineProperties(d,{Type:{value:"MATRIX3"},M11:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},M12:{get:function(){return d[1]},set:function(a){"number"===typeof a&&(d[1]=a)}},M13:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=
a)}},M21:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}},M22:{get:function(){return d[4]},set:function(a){"number"===typeof a&&(d[4]=a)}},M23:{get:function(){return d[5]},set:function(a){"number"===typeof a&&(d[5]=a)}},M31:{get:function(){return d[6]},set:function(a){"number"===typeof a&&(d[6]=a)}},M32:{get:function(){return d[7]},set:function(a){"number"===typeof a&&(d[7]=a)}},M33:{get:function(){return d[8]},set:function(a){"number"===typeof a&&(d[8]=a)}}});return d}},
Set:{value:function(){var a,c,e,g,f,h,k,l,m,t;a=arguments[0];arguments[1]instanceof Float32Array&&9===arguments[0].length?(c=arguments[1][0],e=arguments[1][1],g=arguments[1][2],f=arguments[1][3],h=arguments[1][4],k=arguments[1][5],l=arguments[1][6],m=arguments[1][7],t=arguments[1][8]):(c=arguments[1],e=arguments[2],g=arguments[3],f=arguments[4],h=arguments[5],k=arguments[6],l=arguments[7],m=arguments[8],t=arguments[9]);if(a instanceof Float32Array&&9===arguments[0].length&&"number"===typeof c&&"number"===
typeof e&&"number"===typeof g&&"number"===typeof f&&"number"===typeof h&&"number"===typeof k&&"number"===typeof l&&"number"===typeof m&&"number"===typeof t)return a[0]=c,a[1]=e,a[2]=g,a[3]=f,a[4]=h,a[5]=k,a[6]=l,a[7]=m,a[8]=t,a;b("SET",arguments)}},Transpose:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length)return this.Set(arguments[0],arguments[0][0],arguments[0][3],arguments[0][6],arguments[0][1],arguments[0][4],arguments[0][7],arguments[0][2],arguments[0][5],arguments[0][8]);
b("TRANSPOSE",arguments)}},Identity:{value:function(a){return a instanceof Float32Array&&9===a.length?this.Set(a,1,0,0,0,1,0,0,0,1):this.Create(1,0,0,0,1,0,0,0,1)}},Determinant:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length)return arguments[0][0]*(arguments[0][4]*arguments[0][8]-arguments[0][5]*arguments[0][7])-arguments[0][1]*(arguments[0][3]*arguments[0][8]-arguments[0][5]*arguments[0][6])+arguments[0][2]*(arguments[0][3]*arguments[0][7]-arguments[0][4]*arguments[0][6]);
b("DETERMINANT",arguments)}},Inverse:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length){var a=this.Determinant(arguments[0]);return 0!==a?this.Set(arguments[0],(arguments[0][4]*arguments[0][8]-arguments[0][7]*arguments[0][5])/a,-(arguments[0][1]*arguments[0][8]-arguments[0][7]*arguments[0][2])/a,(arguments[0][1]*arguments[0][5]-arguments[0][4]*arguments[0][2])/a,-(arguments[0][3]*arguments[0][8]-arguments[0][6]*arguments[0][5])/a,(arguments[0][0]*arguments[0][8]-arguments[0][6]*
arguments[0][2])/a,-(arguments[0][0]*arguments[0][5]-arguments[0][3]*arguments[0][2])/a,(arguments[0][3]*arguments[0][7]-arguments[0][6]*arguments[0][4])/a,-(arguments[0][0]*arguments[0][7]-arguments[0][6]*arguments[0][1])/a,(arguments[0][0]*arguments[0][4]-arguments[0][3]*arguments[0][1])/a):arguments[0]}b("INVERSE",arguments)}},Sum:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length&&arguments[1]instanceof Float32Array&&9===arguments[1].length)return this.Set(arguments[0],
arguments[0][0]+arguments[1][0],arguments[0][1]+arguments[1][1],arguments[0][2]+arguments[1][2],arguments[0][3]+arguments[1][3],arguments[0][4]+arguments[1][4],arguments[0][5]+arguments[1][5],arguments[0][6]+arguments[1][6],arguments[0][7]+arguments[1][7],arguments[0][8]+arguments[1][8]);b("SUM",arguments)}},Mult:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length){if(arguments[1]instanceof Float32Array&&9===arguments[1].length)return this.Set(arguments[0],arguments[0][0]*
arguments[1][0]+arguments[0][1]*arguments[1][3]+arguments[0][2]*arguments[1][6],arguments[0][0]*arguments[1][1]+arguments[0][1]*arguments[1][4]+arguments[0][2]*arguments[1][7],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][8],arguments[0][3]*arguments[1][0]+arguments[0][4]*arguments[1][3]+arguments[0][5]*arguments[1][6],arguments[0][3]*arguments[1][1]+arguments[0][4]*arguments[1][4]+arguments[0][5]*arguments[1][7],arguments[0][3]*arguments[1][2]+arguments[0][4]*
arguments[1][5]+arguments[0][5]*arguments[1][8],arguments[0][6]*arguments[1][0]+arguments[0][7]*arguments[1][3]+arguments[0][8]*arguments[1][6],arguments[0][6]*arguments[1][1]+arguments[0][7]*arguments[1][4]+arguments[0][8]*arguments[1][7],arguments[0][6]*arguments[1][2]+arguments[0][7]*arguments[1][5]+arguments[0][8]*arguments[1][8]);if("number"===typeof arguments[1])return this.Set(arguments[0],arguments[0][0]*arguments[1],arguments[0][1]*arguments[1],arguments[0][2]*arguments[1],arguments[0][3]*
arguments[1],arguments[0][4]*arguments[1],arguments[0][5]*arguments[1],arguments[0][6]*arguments[1],arguments[0][7]*arguments[1],arguments[0][8]*arguments[1])}b("MULT",arguments)}},RevMult:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length&&arguments[1]instanceof Float32Array&&9===arguments[1].length)return this.Set(arguments[1],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][3]+arguments[0][2]*arguments[1][6],arguments[0][0]*arguments[1][1]+arguments[0][1]*
arguments[1][4]+arguments[0][2]*arguments[1][7],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][8],arguments[0][3]*arguments[1][0]+arguments[0][4]*arguments[1][3]+arguments[0][5]*arguments[1][6],arguments[0][3]*arguments[1][1]+arguments[0][4]*arguments[1][4]+arguments[0][5]*arguments[1][7],arguments[0][3]*arguments[1][2]+arguments[0][4]*arguments[1][5]+arguments[0][5]*arguments[1][8],arguments[0][6]*arguments[1][0]+arguments[0][7]*arguments[1][3]+arguments[0][8]*
arguments[1][6],arguments[0][6]*arguments[1][1]+arguments[0][7]*arguments[1][4]+arguments[0][8]*arguments[1][7],arguments[0][6]*arguments[1][2]+arguments[0][7]*arguments[1][5]+arguments[0][8]*arguments[1][8]);b("REVMULT",arguments)}}})}function R(){function b(){var a=[];console.log(arguments);if(0===arguments[1].length)a="undefined";else for(var b in arguments[1])a.push(typeof arguments[1][b]);switch(arguments[0]){case "SET":console.error(Error("No match for given parameters: "+a.toString()+"\n\tFWGE.Maths.Matrix2.Set(Float32Array, Float32Array)\n\tFWGE.Maths.Matrix2.Set(Float32Array, number, number, number, number)"))}}
Object.defineProperties(this,{Create:{value:function(a,b,c,g,f,h,k,l,m,t,H,w,n,p,q,r){var d=new Float32Array(16);d[0]="number"===typeof a?a:a instanceof Array&&"number"===typeof a[0]?a[0]:0;d[1]="number"===typeof b?b:a instanceof Array&&"number"===typeof a[1]?a[1]:0;d[2]="number"===typeof c?c:a instanceof Array&&"number"===typeof a[2]?a[2]:0;d[3]="number"===typeof g?g:a instanceof Array&&"number"===typeof a[3]?a[3]:0;d[4]="number"===typeof f?f:a instanceof Array&&"number"===typeof a[4]?a[4]:0;d[5]=
"number"===typeof h?h:a instanceof Array&&"number"===typeof a[5]?a[5]:0;d[6]="number"===typeof k?k:a instanceof Array&&"number"===typeof a[6]?a[6]:0;d[7]="number"===typeof l?l:a instanceof Array&&"number"===typeof a[7]?a[7]:0;d[8]="number"===typeof m?m:a instanceof Array&&"number"===typeof a[8]?a[8]:0;d[9]="number"===typeof t?t:a instanceof Array&&"number"===typeof a[9]?a[9]:0;d[10]="number"===typeof H?H:a instanceof Array&&"number"===typeof a[10]?a[10]:0;d[11]="number"===typeof w?w:a instanceof Array&&
"number"===typeof a[11]?a[11]:0;d[12]="number"===typeof n?n:a instanceof Array&&"number"===typeof a[12]?a[12]:0;d[13]="number"===typeof p?p:a instanceof Array&&"number"===typeof a[13]?a[13]:0;d[14]="number"===typeof q?q:a instanceof Array&&"number"===typeof a[14]?a[14]:0;d[15]="number"===typeof r?r:a instanceof Array&&"number"===typeof a[15]?a[15]:0;Object.defineProperties(d,{Type:{value:"MATRIX4"},M11:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},M12:{get:function(){return d[1]},
set:function(a){"number"===typeof a&&(d[1]=a)}},M13:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}},M14:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}},M21:{get:function(){return d[4]},set:function(a){"number"===typeof a&&(d[4]=a)}},M22:{get:function(){return d[5]},set:function(a){"number"===typeof a&&(d[5]=a)}},M23:{get:function(){return d[6]},set:function(a){"number"===typeof a&&(d[6]=a)}},M24:{get:function(){return d[7]},set:function(a){"number"===
typeof a&&(d[7]=a)}},M31:{get:function(){return d[8]},set:function(a){"number"===typeof a&&(d[8]=a)}},M32:{get:function(){return d[9]},set:function(a){"number"===typeof a&&(d[9]=a)}},M33:{get:function(){return d[10]},set:function(a){"number"===typeof a&&(d[10]=a)}},M34:{get:function(){return d[11]},set:function(a){"number"===typeof a&&(d[11]=a)}},M41:{get:function(){return d[12]},set:function(a){"number"===typeof a&&(d[12]=a)}},M42:{get:function(){return d[13]},set:function(a){"number"===typeof a&&
(d[13]=a)}},M43:{get:function(){return d[14]},set:function(a){"number"===typeof a&&(d[14]=a)}},M44:{get:function(){return d[15]},set:function(a){"number"===typeof a&&(d[15]=a)}}});return d}},Set:{value:function(){var a,d,c,g,f,h,k,l,m,t,n,w,p,q,r,u,v;a=arguments[0];arguments[1]instanceof Float32Array&&16===arguments[0].length?(d=arguments[1][0],c=arguments[1][1],g=arguments[1][2],f=arguments[1][3],h=arguments[1][4],k=arguments[1][5],l=arguments[1][6],m=arguments[1][7],t=arguments[1][8],n=arguments[1][9],
w=arguments[1][10],p=arguments[1][11],q=arguments[1][12],r=arguments[1][13],u=arguments[1][14],v=arguments[1][15]):(d=arguments[1],c=arguments[2],g=arguments[3],f=arguments[4],h=arguments[5],k=arguments[6],l=arguments[7],m=arguments[8],t=arguments[9],n=arguments[10],w=arguments[11],p=arguments[12],q=arguments[13],r=arguments[14],u=arguments[15],v=arguments[16]);if(a instanceof Float32Array&&16===arguments[0].length&&"number"===typeof d&&"number"===typeof c&&"number"===typeof g&&"number"===typeof f&&
"number"===typeof h&&"number"===typeof k&&"number"===typeof l&&"number"===typeof m&&"number"===typeof t&&"number"===typeof n&&"number"===typeof w&&"number"===typeof p&&"number"===typeof q&&"number"===typeof r&&"number"===typeof u&&"number"===typeof v)return a[0]=d,a[1]=c,a[2]=g,a[3]=f,a[4]=h,a[5]=k,a[6]=l,a[7]=m,a[8]=t,a[9]=n,a[10]=w,a[11]=p,a[12]=q,a[13]=r,a[14]=u,a[15]=v,a;b("SET",arguments)}},Transpose:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length)return this.Set(arguments[0],
arguments[0][0],arguments[0][4],arguments[0][8],arguments[0][12],arguments[0][1],arguments[0][5],arguments[0][9],arguments[0][13],arguments[0][2],arguments[0][6],arguments[0][10],arguments[0][14],arguments[0][3],arguments[0][7],arguments[0][11],arguments[0][15]);b("TRANSPOSE",arguments)}},Identity:{value:function(a){return a instanceof Float32Array&&16===a.length?this.Set(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1):this.Create(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},Determinant:{value:function(){if(arguments[0]instanceof
Float32Array&&16===arguments[0].length)return arguments[0][0]*arguments[0][5]*arguments[0][10]*arguments[0][15]+arguments[0][0]*arguments[0][6]*arguments[0][11]*arguments[0][13]+arguments[0][0]*arguments[0][7]*arguments[0][9]*arguments[0][14]+arguments[0][1]*arguments[0][4]*arguments[0][11]*arguments[0][14]+arguments[0][1]*arguments[0][6]*arguments[0][8]*arguments[0][15]+arguments[0][1]*arguments[0][7]*arguments[0][10]*arguments[0][12]+arguments[0][2]*arguments[0][4]*arguments[0][9]*arguments[0][15]+
arguments[0][2]*arguments[0][5]*arguments[0][11]*arguments[0][12]+arguments[0][2]*arguments[0][7]*arguments[0][8]*arguments[0][13]+arguments[0][3]*arguments[0][4]*arguments[0][10]*arguments[0][13]+arguments[0][3]*arguments[0][5]*arguments[0][8]*arguments[0][14]+arguments[0][3]*arguments[0][6]*arguments[0][9]*arguments[0][12]-arguments[0][0]*arguments[0][5]*arguments[0][11]*arguments[0][14]-arguments[0][0]*arguments[0][6]*arguments[0][9]*arguments[0][15]-arguments[0][0]*arguments[0][7]*arguments[0][10]*
arguments[0][13]-arguments[0][1]*arguments[0][4]*arguments[0][10]*arguments[0][15]-arguments[0][1]*arguments[0][6]*arguments[0][11]*arguments[0][12]-arguments[0][1]*arguments[0][7]*arguments[0][8]*arguments[0][14]-arguments[0][2]*arguments[0][4]*arguments[0][11]*arguments[0][13]-arguments[0][2]*arguments[0][5]*arguments[0][8]*arguments[0][15]-arguments[0][2]*arguments[0][7]*arguments[0][9]*arguments[0][12]-arguments[0][3]*arguments[0][4]*arguments[0][9]*arguments[0][14]-arguments[0][3]*arguments[0][5]*
arguments[0][10]*arguments[0][12]-arguments[0][3]*arguments[0][6]*arguments[0][8]*arguments[0][13];b("DETERMINANT",arguments)}},Inverse:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length){var a=this.Determinant(arguments[0]);return 0!==a?this.Set(arguments[0],(arguments[0][5]*arguments[0][10]*arguments[0][15]+arguments[0][6]*arguments[0][11]*arguments[0][13]+arguments[0][7]*arguments[0][9]*arguments[0][14]-arguments[0][5]*arguments[0][11]*arguments[0][14]-arguments[0][6]*
arguments[0][9]*arguments[0][15]-arguments[0][7]*arguments[0][10]*arguments[0][13])/a,(arguments[0][1]*arguments[0][11]*arguments[0][14]+arguments[0][2]*arguments[0][9]*arguments[0][15]+arguments[0][3]*arguments[0][10]*arguments[0][13]-arguments[0][1]*arguments[0][10]*arguments[0][15]-arguments[0][2]*arguments[0][11]*arguments[0][13]-arguments[0][3]*arguments[0][9]*arguments[0][14])/a,(arguments[0][1]*arguments[0][6]*arguments[0][15]+arguments[0][2]*arguments[0][7]*arguments[0][13]+arguments[0][3]*
arguments[0][5]*arguments[0][14]-arguments[0][1]*arguments[0][7]*arguments[0][14]-arguments[0][2]*arguments[0][5]*arguments[0][15]-arguments[0][3]*arguments[0][6]*arguments[0][13])/a,(arguments[0][1]*arguments[0][7]*arguments[0][10]+arguments[0][2]*arguments[0][5]*arguments[0][11]+arguments[0][3]*arguments[0][6]*arguments[0][9]-arguments[0][1]*arguments[0][6]*arguments[0][11]-arguments[0][2]*arguments[0][7]*arguments[0][9]-arguments[0][3]*arguments[0][5]*arguments[0][10])/a,(arguments[0][4]*arguments[0][11]*
arguments[0][14]+arguments[0][6]*arguments[0][8]*arguments[0][15]+arguments[0][7]*arguments[0][10]*arguments[0][12]-arguments[0][4]*arguments[0][10]*arguments[0][15]-arguments[0][6]*arguments[0][11]*arguments[0][12]-arguments[0][7]*arguments[0][8]*arguments[0][14])/a,(arguments[0][0]*arguments[0][10]*arguments[0][15]+arguments[0][2]*arguments[0][11]*arguments[0][12]+arguments[0][3]*arguments[0][8]*arguments[0][14]-arguments[0][0]*arguments[0][11]*arguments[0][14]-arguments[0][2]*arguments[0][8]*arguments[0][15]-
arguments[0][3]*arguments[0][10]*arguments[0][12])/a,(arguments[0][0]*arguments[0][7]*arguments[0][14]+arguments[0][2]*arguments[0][4]*arguments[0][15]+arguments[0][3]*arguments[0][6]*arguments[0][12]-arguments[0][0]*arguments[0][6]*arguments[0][15]-arguments[0][2]*arguments[0][7]*arguments[0][12]-arguments[0][3]*arguments[0][4]*arguments[0][14])/a,(arguments[0][0]*arguments[0][6]*arguments[0][11]+arguments[0][2]*arguments[0][7]*arguments[0][8]+arguments[0][3]*arguments[0][4]*arguments[0][10]-arguments[0][0]*
arguments[0][7]*arguments[0][10]-arguments[0][2]*arguments[0][4]*arguments[0][11]-arguments[0][3]*arguments[0][6]*arguments[0][8])/a,(arguments[0][4]*arguments[0][9]*arguments[0][15]+arguments[0][5]*arguments[0][11]*arguments[0][12]+arguments[0][7]*arguments[0][8]*arguments[0][13]-arguments[0][4]*arguments[0][11]*arguments[0][13]-arguments[0][5]*arguments[0][8]*arguments[0][15]-arguments[0][7]*arguments[0][9]*arguments[0][12])/a,(arguments[0][0]*arguments[0][11]*arguments[0][13]+arguments[0][1]*arguments[0][8]*
arguments[0][15]+arguments[0][3]*arguments[0][9]*arguments[0][12]-arguments[0][0]*arguments[0][9]*arguments[0][15]-arguments[0][1]*arguments[0][11]*arguments[0][12]-arguments[0][3]*arguments[0][8]*arguments[0][13])/a,(arguments[0][0]*arguments[0][5]*arguments[0][15]+arguments[0][1]*arguments[0][7]*arguments[0][12]+arguments[0][3]*arguments[0][4]*arguments[0][13]-arguments[0][0]*arguments[0][7]*arguments[0][13]-arguments[0][1]*arguments[0][4]*arguments[0][15]-arguments[0][3]*arguments[0][5]*arguments[0][12])/
a,(arguments[0][0]*arguments[0][7]*arguments[0][9]+arguments[0][1]*arguments[0][4]*arguments[0][11]+arguments[0][3]*arguments[0][5]*arguments[0][8]-arguments[0][0]*arguments[0][5]*arguments[0][11]-arguments[0][1]*arguments[0][7]*arguments[0][8]-arguments[0][3]*arguments[0][4]*arguments[0][9])/a,(arguments[0][4]*arguments[0][10]*arguments[0][13]+arguments[0][5]*arguments[0][8]*arguments[0][14]+arguments[0][6]*arguments[0][9]*arguments[0][12]-arguments[0][4]*arguments[0][9]*arguments[0][14]-arguments[0][5]*
arguments[0][10]*arguments[0][12]-arguments[0][6]*arguments[0][8]*arguments[0][13])/a,(arguments[0][0]*arguments[0][9]*arguments[0][14]+arguments[0][1]*arguments[0][10]*arguments[0][12]+arguments[0][2]*arguments[0][8]*arguments[0][13]-arguments[0][0]*arguments[0][10]*arguments[0][13]-arguments[0][1]*arguments[0][8]*arguments[0][14]-arguments[0][2]*arguments[0][9]*arguments[0][12])/a,(arguments[0][0]*arguments[0][6]*arguments[0][13]+arguments[0][1]*arguments[0][4]*arguments[0][14]+arguments[0][2]*
arguments[0][5]*arguments[0][12]-arguments[0][0]*arguments[0][5]*arguments[0][14]-arguments[0][1]*arguments[0][6]*arguments[0][12]-arguments[0][2]*arguments[0][4]*arguments[0][13])/a,(arguments[0][0]*arguments[0][5]*arguments[0][10]+arguments[0][1]*arguments[0][6]*arguments[0][8]+arguments[0][2]*arguments[0][4]*arguments[0][9]-arguments[0][0]*arguments[0][6]*arguments[0][9]-arguments[0][1]*arguments[0][4]*arguments[0][10]-arguments[0][2]*arguments[0][5]*arguments[0][8])/a):arguments[0]}b("INVERSE",
arguments)}},Sum:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length&&arguments[1]instanceof Float32Array&&16===arguments[1].length)return this.Set(arguments[0],arguments[0][0]+arguments[1][0],arguments[0][1]+arguments[1][1],arguments[0][2]+arguments[1][2],arguments[0][3]+arguments[1][3],arguments[0][4]+arguments[1][4],arguments[0][5]+arguments[1][5],arguments[0][6]+arguments[1][6],arguments[0][7]+arguments[1][7],arguments[0][8]+arguments[1][8],arguments[0][9]+arguments[1][9],
arguments[0][10]+arguments[1][10],arguments[0][11]+arguments[1][11],arguments[0][12]+arguments[1][12],arguments[0][13]+arguments[1][13],arguments[0][14]+arguments[1][14],arguments[0][15]+arguments[1][15]);b("SUM",arguments)}},Mult:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length){if(arguments[1]instanceof Float32Array&&16===arguments[1].length)return this.Set(arguments[0],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][4]+arguments[0][2]*arguments[1][8]+
arguments[0][3]*arguments[1][12],arguments[0][0]*arguments[1][1]+arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][9]+arguments[0][3]*arguments[1][13],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][6]+arguments[0][2]*arguments[1][10]+arguments[0][3]*arguments[1][14],arguments[0][0]*arguments[1][3]+arguments[0][1]*arguments[1][7]+arguments[0][2]*arguments[1][11]+arguments[0][3]*arguments[1][15],arguments[0][4]*arguments[1][0]+arguments[0][5]*arguments[1][4]+arguments[0][6]*
arguments[1][8]+arguments[0][7]*arguments[1][12],arguments[0][4]*arguments[1][1]+arguments[0][5]*arguments[1][5]+arguments[0][6]*arguments[1][9]+arguments[0][7]*arguments[1][13],arguments[0][4]*arguments[1][2]+arguments[0][5]*arguments[1][6]+arguments[0][6]*arguments[1][10]+arguments[0][7]*arguments[1][14],arguments[0][4]*arguments[1][3]+arguments[0][5]*arguments[1][7]+arguments[0][6]*arguments[1][11]+arguments[0][7]*arguments[1][15],arguments[0][8]*arguments[1][0]+arguments[0][9]*arguments[1][4]+
arguments[0][10]*arguments[1][8]+arguments[0][11]*arguments[1][12],arguments[0][8]*arguments[1][1]+arguments[0][9]*arguments[1][5]+arguments[0][10]*arguments[1][9]+arguments[0][11]*arguments[1][13],arguments[0][8]*arguments[1][2]+arguments[0][9]*arguments[1][6]+arguments[0][10]*arguments[1][10]+arguments[0][11]*arguments[1][14],arguments[0][8]*arguments[1][3]+arguments[0][9]*arguments[1][7]+arguments[0][10]*arguments[1][11]+arguments[0][11]*arguments[1][15],arguments[0][12]*arguments[1][0]+arguments[0][13]*
arguments[1][4]+arguments[0][14]*arguments[1][8]+arguments[0][15]*arguments[1][12],arguments[0][12]*arguments[1][1]+arguments[0][13]*arguments[1][5]+arguments[0][14]*arguments[1][9]+arguments[0][15]*arguments[1][13],arguments[0][12]*arguments[1][2]+arguments[0][13]*arguments[1][6]+arguments[0][14]*arguments[1][10]+arguments[0][15]*arguments[1][14],arguments[0][12]*arguments[1][3]+arguments[0][13]*arguments[1][7]+arguments[0][14]*arguments[1][11]+arguments[0][15]*arguments[1][15]);if("number"===typeof arguments[1])return this.Set(arguments[0],
arguments[0][0]*arguments[1],arguments[0][1]*arguments[1],arguments[0][2]*arguments[1],arguments[0][3]*arguments[1],arguments[0][4]*arguments[1],arguments[0][5]*arguments[1],arguments[0][6]*arguments[1],arguments[0][7]*arguments[1],arguments[0][8]*arguments[1],arguments[0][9]*arguments[1],arguments[0][10]*arguments[1],arguments[0][11]*arguments[1],arguments[0][12]*arguments[1],arguments[0][13]*arguments[1],arguments[0][14]*arguments[1],arguments[0][15]*arguments[1])}b("MULT",arguments)}},RevMult:{value:function(){if(arguments[0]instanceof
Float32Array&&9===arguments[0].length&&arguments[1]instanceof Float32Array&&16===arguments[1].length)return this.Set(arguments[1],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][4]+arguments[0][2]*arguments[1][8]+arguments[0][3]*arguments[1][12],arguments[0][0]*arguments[1][1]+arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][9]+arguments[0][3]*arguments[1][13],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][6]+arguments[0][2]*arguments[1][10]+arguments[0][3]*
arguments[1][14],arguments[0][0]*arguments[1][3]+arguments[0][1]*arguments[1][7]+arguments[0][2]*arguments[1][11]+arguments[0][3]*arguments[1][15],arguments[0][4]*arguments[1][0]+arguments[0][5]*arguments[1][4]+arguments[0][6]*arguments[1][8]+arguments[0][7]*arguments[1][12],arguments[0][4]*arguments[1][1]+arguments[0][5]*arguments[1][5]+arguments[0][6]*arguments[1][9]+arguments[0][7]*arguments[1][13],arguments[0][4]*arguments[1][2]+arguments[0][5]*arguments[1][6]+arguments[0][6]*arguments[1][10]+
arguments[0][7]*arguments[1][14],arguments[0][4]*arguments[1][3]+arguments[0][5]*arguments[1][7]+arguments[0][6]*arguments[1][11]+arguments[0][7]*arguments[1][15],arguments[0][8]*arguments[1][0]+arguments[0][9]*arguments[1][4]+arguments[0][10]*arguments[1][8]+arguments[0][11]*arguments[1][12],arguments[0][8]*arguments[1][1]+arguments[0][9]*arguments[1][5]+arguments[0][10]*arguments[1][9]+arguments[0][11]*arguments[1][13],arguments[0][8]*arguments[1][2]+arguments[0][9]*arguments[1][6]+arguments[0][10]*
arguments[1][10]+arguments[0][11]*arguments[1][14],arguments[0][8]*arguments[1][3]+arguments[0][9]*arguments[1][7]+arguments[0][10]*arguments[1][11]+arguments[0][11]*arguments[1][15],arguments[0][12]*arguments[1][0]+arguments[0][13]*arguments[1][4]+arguments[0][14]*arguments[1][8]+arguments[0][15]*arguments[1][12],arguments[0][12]*arguments[1][1]+arguments[0][13]*arguments[1][5]+arguments[0][14]*arguments[1][9]+arguments[0][15]*arguments[1][13],arguments[0][12]*arguments[1][2]+arguments[0][13]*arguments[1][6]+
arguments[0][14]*arguments[1][10]+arguments[0][15]*arguments[1][14],arguments[0][12]*arguments[1][3]+arguments[0][13]*arguments[1][7]+arguments[0][14]*arguments[1][11]+arguments[0][15]*arguments[1][15]);b("REVMULT",arguments)}}})}function S(){Object.defineProperties(this,{Create:{value:function(b,a){var d=new Float32Array(2);d[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;d[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;Object.defineProperties(d,
{Type:{value:"VECTOR2"},X:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},Y:{get:function(){return d[1]},set:function(a){"number"===typeof a&&(d[1]=a)}}});return d}},Set:{value:function(b,a,d){var c;a instanceof Float32Array&&2===b.length?(c=a[0],a=a[1]):(c=a,a=d);if(b instanceof Float32Array&&2===b.length&&"number"===typeof c&&"number"===typeof a&&"number"===typeof z)return b[0]=c,b[1]=a,b}},Length:{value:function(b){if(b instanceof Float32Array&&2===b.length)return Math.sqrt(b[0]*
b[0]+b[1]*b[1])}},Sum:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&2===a.length)return this.Set(b,b[0]+a[0],b[1]+a[1])}},Diff:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&2===a.length)return this.Create(a[0]-b[0],a[1]-b[1])}},Mult:{value:function(b,a){if(b instanceof Float32Array&&2===b.length){if(a instanceof Float32Array&&2===a.length)return this.Set(b,b[0]*a[0],b[1]*a[1]);if("number"===typeof a)return this.Set(b,
b[0]*a,b[1]*a)}}},Dot:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&2===a.length)return b[0]*a[0]+b[1]*a[1]}},Unit:{value:function(b){if(b instanceof Float32Array&&2===b.length){var a=this.Length(b);if(0!==a)return this.Mult(b,1/a)}}},Cross:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&2===a.length)return this.Create(b[1]*a[2]+b[2]*a[1],b[2]*a[0]-b[0]*a[2],b[0]*a[1]+b[1]*a[0])}}})}function T(){Object.defineProperties(this,
{Create:{value:function(b,a,d){var c=new Float32Array(3);c[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;c[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;c[2]="number"===typeof d?d:b instanceof Array&&"number"===typeof b[2]?b[2]:0;Object.defineProperties(c,{Type:{value:"VECTOR3"},X:{get:function(){return c[0]},set:function(a){"number"===typeof a&&(c[0]=a)}},Y:{get:function(){return c[1]},set:function(a){"number"===typeof a&&(c[1]=a)}},Z:{get:function(){return c[2]},
set:function(a){"number"===typeof a&&(c[2]=a)}}});return c}},Set:{value:function(b,a,c,e){var d;a instanceof Float32Array&&3===b.length?(d=a[0],c=a[1],a=a[2]):(d=a,a=e);if(b instanceof Float32Array&&3===b.length&&"number"===typeof d&&"number"===typeof c&&"number"===typeof a)return b[0]=d,b[1]=c,b[2]=a,b}},Length:{value:function(b){if(b instanceof Float32Array&&3===b.length)return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])}},Sum:{value:function(b,a,c){if(b instanceof Float32Array&&3===b.length&&c instanceof
Float32Array&&3===a.length)return this.Set(b,b[0]+a[0],b[1]+a[1],b[2]+a[2])}},Diff:{value:function(b,a,c){if(b instanceof Float32Array&&3===b.length&&c instanceof Float32Array&&3===a.length)return this.Create(a[0]-b[0],a[1]-b[1],a[2]-b[2])}},Mult:{value:function(b,a){if(b instanceof Float32Array&&3===b.length){if(a instanceof Float32Array&&3===a.length)return this.Set(b,b[0]*a[0],b[1]*a[1],b[2]*a[2]);if("number"===typeof a)return this.Set(b,b[0]*a,b[1]*a,b[2]*a)}}},Dot:{value:function(b,a){if(b instanceof
Float32Array&&3===b.length&&a instanceof Float32Array&&3===a.length)return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]}},Unit:{value:function(b){if(b instanceof Float32Array&&3===b.length){var a=this.Length(b);if(0!==a)return this.Mult(b,1/a)}}},Cross:{value:function(b,a){if(b instanceof Float32Array&&3===b.length&&a instanceof Float32Array&&3===a.length)return this.Create(b[1]*a[2]+b[2]*a[1],b[2]*a[0]-b[0]*a[2],b[0]*a[1]+b[1]*a[0])}}})}function U(){Object.defineProperties(this,{Create:{value:function(b,a,c,e){var d=
new Float32Array(4);d[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;d[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;d[2]="number"===typeof c?c:b instanceof Array&&"number"===typeof b[2]?b[2]:0;d[3]="number"===typeof e?e:b instanceof Array&&"number"===typeof b[3]?b[3]:0;Object.defineProperties(d,{Type:{value:"VECTOR4"},W:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},X:{get:function(){return d[1]},set:function(a){"number"===
typeof a&&(d[1]=a)}},Y:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}},Z:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}}});return d}},Set:{value:function(b,a,c,e,g){var d;a instanceof Float32Array&&4===b.length?(d=a[0],c=a[1],e=a[2],a=a[3]):(d=a,a=g);if(b instanceof Float32Array&&4===b.length&&"number"===typeof d&&"number"===typeof c&&"number"===typeof e&&"number"===typeof a)return b[0]=d,b[1]=c,b[2]=e,b[3]=a,b}},Length:{value:function(b){if(b instanceof
Float32Array&&4===b.length)return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])}},Sum:{value:function(b,a,c){if(b instanceof Float32Array&&4===b.length&&c instanceof Float32Array&&4===a.length)return this.Set(b,b[0]+a[0],b[1]+a[1],b[2]+a[2],b[3]+a[3])}},Diff:{value:function(b,a,c){if(b instanceof Float32Array&&4===b.length&&c instanceof Float32Array&&4===a.length)return this.Create(a[0]-b[0],a[1]-b[1],a[2]-b[2],a[3]-b[3])}},Mult:{value:function(b,a){if(b instanceof Float32Array&&4===b.length){if(a instanceof
Float32Array&&3===a.length)return this.Set(b,b[0]*a[0],b[1]*a[1],b[2]*a[2],b[3]*a[3]);if("number"===typeof a)return this.Set(b,b[0]*a,b[1]*a,b[2]*a,b[3]*a)}}},Dot:{value:function(b,a){if(b instanceof Float32Array&&4===b.length&&a instanceof Float32Array&&4===a.length)return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]+b[3]*a[3]}},Unit:{value:function(b){if(b instanceof Float32Array&&4===b.length){var a=this.Length(b);if(0!==a)return this.Mult(b,1/a)}}}})}function V(){}function W(){Object.defineProperties(this,{Matrix2:{value:new P},
Matrix3:{value:new Q},Matrix4:{value:new R},Vector2:{value:new S},Vector3:{value:new T},Vector4:{value:new U},Quaternion:{value:new V}})}function X(){}function Y(){}function Z(){}function aa(){}function ba(){Object.defineProperties(this,{obj:{value:new X},threejs:{value:new Y},fbx:{value:new Z},dae:{value:new aa}})}function ca(){}function da(){Object.defineProperty(this,"InputUpdate",{value:function(){}})}function ea(){var b=void 0,a=void 0;Object.defineProperties(this,{Delta:{get:function(){return(b-
a)/60}},DeltaTime:{get:function(){return b-a}},Now:{get:function(){return new Date(Date.now())}},TimeUpdate:{value:function(){void 0===b&&void 0===a?b=a=Date.now():(a=b,b=Date.now())}}})}function I(){Object.defineProperties(this,{PhysicsUpdate:{value:function(){}}})}function fa(){Object.defineProperties(this,{File:{value:new ca},Input:{value:new da},Time:{value:new ea},Physics:{value:new I}})}function y(b){b.colour||(b.colour=new Float32Array(3));b.intensity||(b.intensity=1);n.call(this,b.gameobject,
b.type);var a=b.colour,c=b.intensity;Object.defineProperties(this,{Colour:{get:function(){return a},set:function(b){b instanceof Float32Array&&3===b.length&&FWGE.Maths.Vector3.Set(a,b)}},Intensity:{get:function(){return c},set:function(a){"number"===typeof a&&(c=a)}}});A.push(this)}function ga(b){b||(b={});b.type="AMBIENTLIGHT";y.call(this,b)}function ha(b){b||(b={});b.direction&&b.direction instanceof Float32Array&&3===b.direction.length||(b.direction=FWGE.Maths.Vector3.Create());b.type="DIRECTIONALLIGHT";
y.call(this,b);var a=b.direction;Object.defineProperties(this,{Direction:{get:function(){return a},set:function(b){b instanceof Float32Array&&3===b.length&&FWGE.Maths.Vector3.Set(a,b)}}})}function ia(b){b||(b={});b.transform||(b.transform=new FWGE.Item.Transform);b.radius||(b.radius=5);b.angle||(b.angle=180);b.type="POINTLIGHT";y.call(this,b);var a=b.transform,c=b.radius,e=b.angle;Object.defineProperties(this,{Radius:{get:function(){return c},set:function(a){"number"===typeof a&&(c=a)}},Angle:{get:function(){return e},
set:function(a){"number"===typeof a&&(e=a)}},Transform:{get:function(){return a}}})}function ja(){Object.defineProperties(this,{Ambient:{value:ga},Directional:{value:ha},Point:{value:ia}})}function ka(){var b=this,a=0,d=35,e=16/9,g=.1,f=900,h=-10,k=10,l=10,m=10,n=90,p=90;Object.defineProperties(b,{PERSPECTIVE:{value:0},ORTHOGRAPHIC:{value:1},Mode:{get:function(){return a},set:function(c){if(c===b.PERSPECTIVE||c===b.ORTHOGRAPHIC)a=c}},FOV:{get:function(){return d},set:function(a){"number"===typeof a&&
(d=a)}},Aspect:{get:function(){return e},set:function(a){"number"===typeof a&&(e=a)}},Near:{get:function(){return g},set:function(a){"number"===typeof a&&(g=a)}},Far:{get:function(){return f},set:function(a){"number"===typeof a&&(f=a)}},Left:{get:function(){return h},set:function(a){"number"===typeof a&&(h=a)}},Right:{get:function(){return k},set:function(a){"number"===typeof a&&(k=a)}},Top:{get:function(){return l},set:function(a){"number"===typeof a&&(l=a)}},Bottom:{get:function(){return m},set:function(a){"number"===
typeof a&&(m=a)}},Theta:{get:function(){return n},set:function(a){"number"===typeof a&&(n=a)}},Phi:{get:function(){return p},set:function(a){"number"===typeof a&&(p=a)}},CameraUpdate:{value:function(){c.canvas.height=c.canvas.clientHeight;c.canvas.width=c.canvas.clientWidth;e=c.drawingBufferWidth/c.drawingBufferHeight}}})}function la(){Object.defineProperties(this,{Create:{value:function(b,a,c){var d=new Float32Array(3);d[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;
d[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;d[2]="number"===typeof c?c:b instanceof Array&&"number"===typeof b[2]?b[2]:0;Object.defineProperties(d,{Type:{value:"COLOUR"},R:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=Math.clamp(a,0,1))}},G:{get:function(){return d[1]},set:function(a,b){"number"===typeof b&&(d[1]=Math.clamp(a,0,1))}},B:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=Math.clamp(a,0,1))}}});return d}}})}
function ma(){Object.defineProperties(this,{Camera:{value:new ka},Colour:{value:new la},GameScreen:{value:new na},Shader:{value:D},Light:{value:new ja}})}function D(b){b||(b={});if(b.name&&"string"===typeof b.name&&b.vertexShader&&"string"===typeof b.vertexShader&&b.fragmentShader&&"string"===typeof b.fragmentShader){"number"!==typeof b.width&&(b.width=512);"number"!==typeof b.height&&(b.height=512);Object.defineProperties(this,{Name:{value:b.name},Program:{value:c.createProgram()},Texture:{value:c.createTexture()},
FrameBuffer:{value:c.createFramebuffer()},RenderBuffer:{value:c.createRenderbuffer()}});c.bindFramebuffer(c.FRAMEBUFFER,this.FrameBuffer);c.bindRenderbuffer(c.RENDERBUFFER,this.RenderBuffer);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,1024,768);c.bindTexture(c.TEXTURE_2D,this.Texture);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1024,768,0,c.RGBA,c.UNSIGNED_BYTE,null);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.Texture,0);c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.RenderBuffer);c.bindTexture(c.TEXTURE_2D,null);c.bindRenderbuffer(c.RENDERBUFFER,null);c.bindFramebuffer(c.FRAMEBUFFER,null);var a=c.createShader(c.VERTEX_SHADER);c.shaderSource(a,b.vertexShader);c.compileShader(a);if(c.getShaderParameter(a,
c.COMPILE_STATUS)){var d=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(d,b.fragmentShader);c.compileShader(d);c.getShaderParameter(d,c.COMPILE_STATUS)?(c.attachShader(this.Program,a),c.attachShader(this.Program,d),c.linkProgram(this.Program),c.getProgramParameter(this.Program,c.LINK_STATUS)&&(c.useProgram(this.Program),Object.defineProperties(this,{Attributes:{value:{Position:c.getAttribLocation(this.Program,"A_Position"),Colour:c.getAttribLocation(this.Program,"A_Colour"),UV:c.getAttribLocation(this.Program,
"A_UV"),Normal:c.getAttribLocation(this.Program,"A_Normal")}},Uniforms:{value:{Material:{Ambient:c.getUniformLocation(this.Program,"U_Material.Ambient"),Diffuse:c.getUniformLocation(this.Program,"U_Material.Diffuse"),Specular:c.getUniformLocation(this.Program,"U_Material.Specular"),Shininess:c.getUniformLocation(this.Program,"U_Material.Shininess"),Alpha:c.getUniformLocation(this.Program,"U_Material.Alpha")},Matrix:{ModelView:c.getUniformLocation(this.Program,"U_Matrix.ModelView"),Projection:c.getUniformLocation(this.Program,
"U_Matrix.Projection"),Normal:c.getUniformLocation(this.Program,"U_Matrix.Normal")},Light:{Ambient:{Colour:c.getUniformLocation(this.Program,"U_Ambient.Colour"),Intensity:c.getUniformLocation(this.Program,"U_Ambient.Intensity")},Directional:{Colour:c.getUniformLocation(this.Program,"U_Directional.Colour"),Intensity:c.getUniformLocation(this.Program,"U_Directional.Intensity"),Direction:c.getUniformLocation(this.Program,"U_Directional.Direction")},Point:[{Colour:c.getUniformLocation(this.Program,"U_Point[0].Colour"),
Intensity:c.getUniformLocation(this.Program,"U_Point[0].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[0].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[0].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[0].Angle")}],PointCount:c.getUniformLocation(this.Program,"U_Point_Count")},Sampler:{Image:c.getUniformLocation(this.Program,"U_Sampler.Image"),Bump:c.getUniformLocation(this.Program,"U_Sampler.Bump")}}}}),c.useProgram(null),r.push(this))):console.error(Error("Fragment Shader: "+
c.getShaderInfoLog(d)))}else console.error(Error("Vertex Shader: "+c.getShaderInfoLog(a)))}}function na(){}var c=void 0;Object.defineProperties(Math,{cot:{value:function(b){return 1/Math.tan(b)}},radian:{value:function(b){return Math.PI/180*b}},clamp:{value:function(b,a,c){return Math.max(Math.min(b,c),main)}}});var N=new function(){var b=0;this.next=function(){return b++}};Object.defineProperties(v.prototype,{constructor:{value:v},SetTexture:{value:function(b,a){if(b){var c=new Image;c.onload=function(){this.LoadImage(c,
this.Image)};c.src=b}if(a){var e=new Image;e.onload=function(){this.LoadImage(e,this.Bump)};e.src=a}}},LoadImage:{value:function(b,a){}}});Object.defineProperties(u.prototype,{constructor:{value:u},Clone:{value:function(){for(var b=new u({name:this.name,material:this.Material,mesh:this.Mesh,transform:new x({position:this.Transform.Position,rotation:this.Transform.Rotation,scale:this.Transform.Scale,shear:this.Transform.Shear}),physics:this.Physics,animation:this.Aniamation}),a=0;a<this.Children.length;++a)b.Children.push(this.Children[a].Clone());
return b}},Destroy:{value:function(b){setTimeout(function(){for(var a=p.length;0<=--a;)p[a]===this&&p.slice(a,1)})}},ObjectUpdate:{value:function(){this.Update();this.Transform.TransformUpdate();this.PhysicsItem&&this.PhysicsItem.PhysicsUpdate();this.PhysicsItem&&this.PhysicsItem.PhysicsUpdate();this.Animation&&this.Animation.AnimationUpdate();this.LightItem&&this.LightItem.LightUpdate();this.ParticleSystem&&this.ParticleSystem.ParticleSystemUpdate()}}});Object.defineProperty(window,"FWGE",{value:new function(){Object.defineProperties(this,
{Item:{value:new O},Maths:{value:new W},Render:{value:new ma},Physics:{value:new I},Convert:{value:new ba},Other:{value:new fa},Init:{value:function(b){c=b.getContext("webgl")||b.getContext("experimental-webgl");if(!c)throw"Webgl context could not be initialized.";window.onresize=function(a){FWGE.Render.Camera.CameraUpdate();B.ProjectionUpdate()};FWGE.Render.Camera.CameraUpdate();B.ProjectionUpdate();shader=new FWGE.Render.Shader({name:"Simple Shader",vertexShader:vs_text,fragmentShader:fs_text});
c.useProgram(shader.Program);c.clearColor(0,0,0,0);c.enable(c.DEPTH_TEST)}},Start:{value:function(){J.Start()}},Stop:{value:function(){J.Stop()}}})}});var q=new function(){var b=this,a=[];Object.defineProperties(b,{PushMatrix:{value:function(){var c=b.PeekMatrix();a.push(FWGE.Maths.Matrix4.Create(c.M11,c.M12,c.M13,c.M14,c.M21,c.M22,c.M23,c.M24,c.M31,c.M32,c.M33,c.M34,c.M41,c.M42,c.M43,c.M44))}},PeekMatrix:{value:function(){return 0===a.length?FWGE.Maths.Matrix4.Identity():a[a.length-1]}},PopMatrix:{value:function(){return a.pop()}},
Transform:{value:function(a){FWGE.Maths.Matrix4.Set(this.PeekMatrix(),this.Shear(this.Scale(this.Rotate(this.Translate(this.PeekMatrix(),a.Position),a.Rotation),a.Scale),a.Shear))}},Translate:{value:function(a,b){return FWGE.Maths.Matrix4.Create(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12],a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13],a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14],a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15])}},RotateAround:{value:function(){}},Rotate:{value:function(a,
b){return FWGE.Maths.Matrix4.Mult(FWGE.Maths.Matrix4.Create(1,0,0,0,0,Math.cos(b[0]),-Math.sin(b[0]),0,0,Math.sin(b[0]),Math.cos(b[0]),0,0,0,0,1),FWGE.Maths.Matrix4.Mult(FWGE.Maths.Matrix4.Create(Math.cos(b[1]),0,Math.sin(b[1]),0,0,1,0,0,-Math.sin(b[1]),0,Math.cos(b[1]),0,0,0,0,1),FWGE.Maths.Matrix4.Mult(FWGE.Maths.Matrix4.Create(Math.cos(b[2]),-Math.sin(b[2]),0,0,Math.sin(b[2]),Math.cos(b[2]),0,0,0,0,1,0,0,0,0,1),a)))}},Scale:{value:function(a,b){return FWGE.Maths.Matrix4.Create(a[0]*b[0],a[1]*b[0],
a[2]*b[0],a[3]*b[0],a[4]*b[1],a[5]*b[1],a[6]*b[1],a[7]*b[1],a[8]*b[2],a[9]*b[2],a[10]*b[2],a[11]*b[2],a[12],a[13],a[14],a[15],a[12],a[13],a[14],a[15])}},Shear:{value:function(a,b){var c=Math.radian(b[0]),d=Math.radian(b[1]);b=Math.radian(b[2]);return FWGE.Maths.Matrix4.Mult(FWGE.Maths.Matrix4.Create(1,0,Math.tan(b),0,Math.tan(c),1,0,0,0,Math.tan(d),1,0,0,0,0,1),a)}}})},B=new function(){var b=FWGE.Maths.Matrix4.Identity();Object.defineProperties(this,{ProjectionUpdate:{value:function(){switch(FWGE.Render.Camera.Mode){case FWGE.Render.Camera.PERSPECTIVE:var a=
FWGE.Render.Camera.Aspect,c=FWGE.Render.Camera.Near,e=FWGE.Render.Camera.Far,g=c*Math.tan(Math.radian(FWGE.Render.Camera.FOV)),a=g*a,f=-a,h=-g,k=a-f,l=g-h,m=e-c;FWGE.Maths.Matrix4.Set(b,2*c/k,0,0,0,0,2*c/l,0,0,(a+f)/k,(g+h)/l,-(e+c)/m,-1,0,0,-(2*e*c)/m,1);break;case FWGE.Render.Camera.ORTHOGRAPHIC:c=FWGE.Render.Camera.Left,e=FWGE.Render.Camera.Right,g=FWGE.Render.Camera.Top,a=FWGE.Render.Camera.Bottom,f=FWGE.Render.Camera.Near,h=FWGE.Render.Camera.Far,k=FWGE.Render.Camera.Theta,l=FWGE.Render.Camera.Phi,
k=Math.cot(Math.radian(k)),l=Math.cot(Math.radian(l)),c-=f*k,e-=f*k,g-=f*l,a-=f*l,FWGE.Maths.Matrix4.Set(b,2/(e-c),0,0,0,0,2/(g-a),0,0,k,l,-2/(h-f),0,-(c+e)/(e-c),-(g+a)/(g-a),-(h+f)/(h-f),1)}}},GetViewer:{value:function(){return b}}})},oa=new function(){var b=this;Object.defineProperties(b,{Render:{value:function(){b.ClearBuffers();for(var a=p.length;0<=--a;)b.SetGlobalUniforms(),b.RenderObject(p[a])}},ClearBuffers:{value:function(){for(var a=r.length;0<=--a;)c.bindFramebuffer(c.FRAMEBUFFER,r[a].FrameBuffer),
c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);c.bindFramebuffer(c.FRAMEBUFFER,null);c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)}},RenderObject:{value:function(a){q.PushMatrix();q.Transform(a.Transform);for(var d=a.Children.length;0<=--d;)b.RenderObject(a.Children[d]);a.Mesh&&a.Material&&(d=a.Material.Shader,c.useProgram(d.Program),c.enableVertexAttribArray(d.Attributes.Position),
c.enableVertexAttribArray(d.Attributes.Normal),c.enableVertexAttribArray(d.Attributes.Colour),c.enableVertexAttribArray(d.Attributes.UV),1!==a.Material.Alpha&&(c.enable(c.BLEND),c.disable(c.DEPTH_TEST),c.blendFunc(c.SRC_ALPHA,c.ONE)),b.BindAttributes(a.Mesh,a.Material,a.Material.Shader.Attributes),b.SetObjectUniforms(a.Material,a.Material.Shader.Uniforms),b.Draw(a.Mesh.VertexCount),1!==a.Material.Alpha&&(c.enable(c.DEPTH_TEST),c.disable(c.BLEND)),c.disableVertexAttribArray(d.Attributes.Position),
c.disableVertexAttribArray(d.Attributes.Normal),c.disableVertexAttribArray(d.Attributes.Colour),c.disableVertexAttribArray(d.Attributes.UV),c.useProgram(null));q.PopMatrix()}},BindAttributes:{value:function(a,b,e){c.bindBuffer(c.ARRAY_BUFFER,a.PositionBuffer);c.vertexAttribPointer(e.Position,3,c.FLOAT,!1,0,0);-1!==e.UV&&(a.UVBuffer?(c.bindBuffer(c.ARRAY_BUFFER,a.UVBuffer),c.vertexAttribPointer(e.UV,2,c.FLOAT,!1,0,0)):c.disableVertexAttribArray(e.UV));-1!==e.Colour&&(a.ColourBuffer?(c.bindBuffer(c.ARRAY_BUFFER,
a.ColourBuffer),c.vertexAttribPointer(e.Colour,3,c.FLOAT,!1,0,0)):c.disableVertexAttribArray(e.Colour));-1!==e.Normal&&(a.NormalBuffer?(c.bindBuffer(c.ARRAY_BUFFER,a.NormalBuffer),c.vertexAttribPointer(e.Normal,3,c.FLOAT,!1,0,0)):c.disableVertexAttribArray(e.Normal));c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a.IndexBuffer)}},SetObjectUniforms:{value:function(a,d){c.uniformMatrix4fv(d.Matrix.ModelView,!1,q.PeekMatrix());c.uniformMatrix3fv(d.Matrix.Normal,!1,b.CalculateNormalMatrix());c.uniform3fv(d.Material.Ambient,
a.Ambient);c.uniform3fv(d.Material.Diffuse,a.Diffuse);c.uniform3fv(d.Material.Specular,a.Specular);c.uniform1f(d.Material.Shininess,a.Shininess);c.uniform1f(d.Material.Alpha,a.Alpha);a.Image?(c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,a.Image),c.uniform1i(d.Material.HasImageMap,!0),c.uniform1i(d.Sampler.Image,0)):(c.bindTexture(c.TEXTURE_2D,null),c.uniform1i(d.Material.HasImageMap,!1));a.Bump?(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,a.Bump),c.uniform1i(d.Material.HasBumpMap,
!0),c.uniform1i(d.Sampler.Bump,1)):(c.bindTexture(c.TEXTURE_2D,null),c.uniform1i(d.Material.HasBumpMap,!1))}},SetGlobalUniforms:{value:function(){for(var a=r.length;0<=--a;){var b=0;c.useProgram(r[a].Program);for(var e=r[a].Uniforms.Light,g=A.length;0<=--g;){var f=A[a];switch(f.Type){case "AMBIENTLIGHT":c.uniform3fv(e.Ambient.Colour,f.Colour);c.uniform1f(e.Ambient.Intensity,f.Intensity);break;case "DIRECTIONALLIGHT":c.uniform3fv(e.Directional.Colour,f.Colour);c.uniform1f(e.Directional.Intensity,f.Intensity);
c.uniform3fv(e.Directional.Direction,f.Direction);break;case "POINTLIGHT":q.PushMatrix();q.Transform(f.Transform);var h=q.PopMatrix();c.uniform3fv(e.Point[b].Colour,f.Colour);c.uniform1f(e.Point[b].Intensity,f.Intensity);c.uniform3f(e.Point[b].Position,h.M41,h.M42,h.M43);c.uniform1f(e.Point[b].Radius,f.Radius);c.uniform1f(e.Point[b].Angle,f.Angle);b++}}c.uniform1i(e.PointCount,b);c.uniformMatrix4fv(r[a].Uniforms.Matrix.Projection,!1,B.GetViewer())}c.useProgram(null)}},CalculateNormalMatrix:{value:function(){var a=
q.PeekMatrix();FWGE.Maths.Matrix4.Inverse(a);return FWGE.Maths.Matrix3.Create(a.M11,a.M21,a.M31,a.M12,a.M22,a.M32,a.M13,a.M23,a.M33)}},Draw:{value:function(a){c.drawElements(c.TRIANGLES,a,c.UNSIGNED_SHORT,0)}},FinalDraw:{value:function(){}}})},J=new function(){var b=this,a=!1,c=void 0;Object.defineProperties(b,{Run:{value:function(){c=window.requestAnimationFrame(b.Run);FWGE.Other.Time.TimeUpdate();if(a){FWGE.Other.Input.InputUpdate();FWGE.Render.Camera.CameraUpdate();for(var d=p.length;0<=--d;)p[d].ObjectUpdate();
oa.Render()}}},Start:{value:function(){a||(a=!0);c||b.Run()}},Stop:{value:function(){a&&(a=!1)}}})},p=[],L=[],K=[],A=[],r=[]})();