(function(){function F(){var b=!1,a=void 0;Object.defineProperties(this,{GameObject:{value:q},Animation:{value:A},Input:{value:new G},Time:{value:new H},Transform:{value:u},Light:{value:new I},Maths:{value:new J},ParticleSystem:{value:B},Particle:{value:K},Camera:{value:new L},Init:{value:function(){}},Run:{value:function(){a=window.requestAnimationFrame(FWGE.Game.Run);b&&(FWGE.Game.GameUpdate(),FWGE.Physics.PhysicsUpdate(),FWGE.Render.RenderUpdate())}},GameUpdate:{value:function(){FWGE.Game.Time.TimeUpdate();
for(var a=p.length;0<=--a;)p[a].ObjectUpdate();FWGE.Game.Input.InputUpdate()}},Start:{value:function(){b||(b=!0);a||this.Run()}},Stop:{value:function(){b&&(b=!1);a&&(window.cancelAnimationFrame(a),a=void 0)}}})}function E(b){b||(b={});var a=b.name||"Item";Object.defineProperties(this,{Type:{value:b.type||"ITEM"},Name:{get:function(){return a},set:function(b){"string"===typeof b&&(a=b)}}})}function r(b){b||(b={});E.call(this,b);var a=b.gameobject;Object.defineProperties(this,{GameObject:{get:function(){return a},
set:function(b){if(parent instanceof q||void 0===b)a=b}}})}function q(b){b||(b={});b.type="GAMEOBJECT";b.name="string"===typeof b.name?b.name:"GameObject";r.call(this,b);var a=[],c=b.mesh instanceof C?b.mesh:void 0,e=b.physicsitem instanceof w?b.physicsitem:void 0,f=b.animation instanceof A?b.animation:void 0,h=b.particlesystem instanceof B?b.particlesystem:void 0,g="function"===typeof b.begin?b.begin:function(){},k="function"===typeof b.update?b.update:function(){},l="function"===typeof b.end?b.end:
function(){};Object.defineProperties(this,{ID:{value:"[go-"+M.next()+"]"},Transform:{value:b.transform instanceof u?b.transform:new u},Children:{get:function(){return a}},AddChild:{value:function(b){if(b instanceof q){a.push(b);var c=p.indexOf(b);-1!==c&&p.slice(c,1)}return b}},RemoveChild:{value:function(b){if(b instanceof q){var c=a.indexOf(b);-1!==c&&(a.slice(c,1),p.push(b))}return b}},RenderMaterial:{get:function(){return _RenderMaterial},set:function(a){if(a instanceof y||void 0===a)_RenderMaterial=
a}},Mesh:{get:function(){return c},set:function(a){if(a instanceof C||void 0===a)c=a}},PhysicsItem:{get:function(){return e},set:function(a){if(a instanceof w||void 0===a)e=a}},Animation:{get:function(){return f},set:function(a){if(a instanceof A||void 0===a)f=a}},ParticleSystem:{get:function(){return h},set:function(a){if(a instanceof B||void 0===a)h=a}},Begin:{get:function(){return g},set:function(a){"function"===typeof a&&(g=a)}},Update:{get:function(){return k},set:function(a){"function"===typeof a&&
(k=a)}},End:{get:function(){return l},set:function(a){"function"===typeof a&&(l=a)}}});p.push(this)}function L(){var b=0,a=35,d=16/9,e=.1,f=900,h=-10,g=10,k=10,l=10,n=90,v=90;Object.defineProperties(this,{PERSPECTIVE:{value:0},ORTHOGRAPHIC:{value:1},Mode:{get:function(){return b},set:function(a){if(a===this.PERSPECTIVE||a===this.ORTHOGRAPHIC)b=a}},FOV:{get:function(){return a},set:function(b){"number"===typeof b&&(a=b)}},Aspect:{get:function(){return d},set:function(a){"number"===typeof a&&(d=a)}},
Near:{get:function(){return e},set:function(a){"number"===typeof a&&(e=a)}},Far:{get:function(){return f},set:function(a){"number"===typeof a&&(f=a)}},Left:{get:function(){return h},set:function(a){"number"===typeof a&&(h=a)}},Right:{get:function(){return g},set:function(a){"number"===typeof a&&(g=a)}},Top:{get:function(){return k},set:function(a){"number"===typeof a&&(k=a)}},Bottom:{get:function(){return l},set:function(a){"number"===typeof a&&(l=a)}},Theta:{get:function(){return n},set:function(a){"number"===
typeof a&&(n=a)}},Phi:{get:function(){return v},set:function(a){"number"===typeof a&&(v=a)}},CameraUpdate:{value:function(){c.canvas.height=c.canvas.clientHeight;c.canvas.width=c.canvas.clientWidth;d=c.drawingBufferWidth/c.drawingBufferHeight}}})}function A(b){b||(b={});r.call(this,b)}function H(){var b=void 0,a=void 0;Object.defineProperties(this,{Delta:{get:function(){return(b-a)/60}},DeltaTime:{get:function(){return b-a}},Now:{get:function(){return new Date(Date.now())}},TimeUpdate:{value:function(){void 0===
b&&void 0===a?b=a=Date.now():(a=b,b=Date.now())}}})}function u(b){function a(a){a&&a instanceof Array||(a=[0,0,0]);if(3>a.length)switch(a.length){case 0:a.position[0]=0;case 1:a.position[1]=0;case 2:a.position[2]=0}return FWGE.Game.Maths.Vector3.Create(a)}b||(b={});b.type="TRANSFORM";r.call(this,b);var c=a(b.position),e=a(b.rotation),f=a(b.scale),h=a(b.shear),g=FWGE.Game.Maths.Vector3.Create(0,1,0),k=FWGE.Game.Maths.Vector3.Create(0,0,1),l=FWGE.Game.Maths.Vector3.Create(1,0,0);Object.defineProperties(this,
{Position:{get:function(){return c},set:function(a){"VECTOR3"===a.Type&&FWGE.Game.Maths.Vector3.Set(c,a)}},Rotation:{get:function(){return e},set:function(a){"VECTOR3"===a.Type&&FWGE.Game.Maths.Vector3.Set(e,a)}},Scale:{get:function(){return f},set:function(a){"VECTOR3"===a.Type&&FWGE.Game.Maths.Vector3.Set(f,a)}},Shear:{get:function(){return h},set:function(a){"VECTOR3"===a.Type&&FWGE.Game.Maths.Vector3.Set(h,a)}},Up:{get:function(){return g}},Forward:{get:function(){return k}},Right:{get:function(){return l}}});
this.TransformUpdate()}function G(){function b(a){var b=a.which||a.keyCode||0;a.preventDefault();a.stopPropagation();a.cancelBubble=!0;return b}for(var a=Array(384),c=0;128>c;++c)a[c]=!0;for(c=128;384>c;++c)a[c]=!1;window.onkeyup=function(c){c=b(c);a[c+0]=!0;a[c+128]=!1;a[c+256]=!1};window.onkeydown=function(c){c=b(c);a[c+0]=!1;a[c+128]=!0;a[c+256]=!0};document.body.oncontextmenu=function(a){return!1};window.onmouseenter=function(a){b(a)};window.onmousemove=function(a){b(a)};window.onmouseleave=function(a){b(a)};
window.onmousedown=function(a){b(a)};window.onmouseup=function(a){b(a)};Object.defineProperties(this,{KEY_F1_UP:{get:function(){return a[112]}},KEY_F1_PRESS:{get:function(){return a[240]}},KEY_F1_DOWN:{get:function(){return a[368]}},KEY_F2_UP:{get:function(){return a[113]}},KEY_F2_PRESS:{get:function(){return a[241]}},KEY_F2_DOWN:{get:function(){return a[369]}},KEY_F3_UP:{get:function(){return a[114]}},KEY_F3_PRESS:{get:function(){return a[242]}},KEY_F3_DOWN:{get:function(){return a[370]}},KEY_F4_UP:{get:function(){return a[115]}},
KEY_F4_PRESS:{get:function(){return a[243]}},KEY_F4_DOWN:{get:function(){return a[371]}},KEY_F5_UP:{get:function(){return a[116]}},KEY_F5_PRESS:{get:function(){return a[244]}},KEY_F5_DOWN:{get:function(){return a[372]}},KEY_F6_UP:{get:function(){return a[117]}},KEY_F6_PRESS:{get:function(){return a[245]}},KEY_F6_DOWN:{get:function(){return a[373]}},KEY_F7_UP:{get:function(){return a[118]}},KEY_F7_PRESS:{get:function(){return a[246]}},KEY_F7_DOWN:{get:function(){return a[374]}},KEY_F8_UP:{get:function(){return a[119]}},
KEY_F8_PRESS:{get:function(){return a[247]}},KEY_F8_DOWN:{get:function(){return a[375]}},KEY_F9_UP:{get:function(){return a[120]}},KEY_F9_PRESS:{get:function(){return a[248]}},KEY_F9_DOWN:{get:function(){return a[376]}},KEY_F10_UP:{get:function(){return a[121]}},KEY_F10_PRESS:{get:function(){return a[249]}},KEY_F10_DOWN:{get:function(){return a[377]}},KEY_F11_UP:{get:function(){return a[122]}},KEY_F11_PRESS:{get:function(){return a[250]}},KEY_F11_DOWN:{get:function(){return a[378]}},KEY_F12_UP:{get:function(){return a[123]}},
KEY_F12_PRESS:{get:function(){return a[251]}},KEY_F12_DOWN:{get:function(){return a[379]}},KEY_0_UP:{get:function(){return a[48]}},KEY_0_PRESS:{get:function(){return a[176]}},KEY_0_DOWN:{get:function(){return a[304]}},KEY_1_UP:{get:function(){return a[49]}},KEY_1_PRESS:{get:function(){return a[177]}},KEY_1_DOWN:{get:function(){return a[305]}},KEY_2_UP:{get:function(){return a[50]}},KEY_2_PRESS:{get:function(){return a[178]}},KEY_2_DOWN:{get:function(){return a[306]}},KEY_3_UP:{get:function(){return a[51]}},
KEY_3_PRESS:{get:function(){return a[179]}},KEY_3_DOWN:{get:function(){return a[307]}},KEY_4_UP:{get:function(){return a[52]}},KEY_4_PRESS:{get:function(){return a[180]}},KEY_4_DOWN:{get:function(){return a[308]}},KEY_5_UP:{get:function(){return a[53]}},KEY_5_PRESS:{get:function(){return a[181]}},KEY_5_DOWN:{get:function(){return a[309]}},KEY_6_UP:{get:function(){return a[54]}},KEY_6_PRESS:{get:function(){return a[182]}},KEY_6_DOWN:{get:function(){return a[310]}},KEY_7_UP:{get:function(){return a[55]}},
KEY_7_PRESS:{get:function(){return a[183]}},KEY_7_DOWN:{get:function(){return a[311]}},KEY_8_UP:{get:function(){return a[56]}},KEY_8_PRESS:{get:function(){return a[184]}},KEY_8_DOWN:{get:function(){return a[312]}},KEY_9_UP:{get:function(){return a[57]}},KEY_9_PRESS:{get:function(){return a[185]}},KEY_9_DOWN:{get:function(){return a[313]}},KEY_TAB_UP:{get:function(){return a[9]}},KEY_TAB_PRESS:{get:function(){return a[137]}},KEY_TAB_DOWN:{get:function(){return a[265]}},KEY_CAPS_UP:{get:function(){return a[20]}},
KEY_CAPS_PRESS:{get:function(){return a[148]}},KEY_CAPS_DOWN:{get:function(){return a[276]}},KEY_SHIFT_UP:{get:function(){return a[16]}},KEY_SHIFT_PRESS:{get:function(){return a[144]}},KEY_SHIFT_DOWN:{get:function(){return a[272]}},KEY_CTRL_UP:{get:function(){return a[17]}},KEY_CTRL_PRESS:{get:function(){return a[145]}},KEY_CTRL_DOWN:{get:function(){return a[273]}},KEY_ALT_UP:{get:function(){return a[18]}},KEY_ALT_PRESS:{get:function(){return a[146]}},KEY_ALT_DOWN:{get:function(){return a[274]}},
KEY_BACKSPACE_UP:{get:function(){return a[8]}},KEY_BACKSPACE_PRESS:{get:function(){return a[136]}},KEY_BACKSPACE_DOWN:{get:function(){return a[264]}},KEY_ENTER_UP:{get:function(){return a[13]}},KEY_ENTER_PRESS:{get:function(){return a[141]}},KEY_ENTER_DOWN:{get:function(){return a[269]}},KEY_UP_UP:{get:function(){return a[38]}},KEY_UP_PRESS:{get:function(){return a[166]}},KEY_UP_DOWN:{get:function(){return a[294]}},KEY_LEFT_UP:{get:function(){return a[37]}},KEY_LEFT_PRESS:{get:function(){return a[165]}},
KEY_LEFT_DOWN:{get:function(){return a[293]}},KEY_RIGHT_UP:{get:function(){return a[40]}},KEY_RIGHT_PRESS:{get:function(){return a[168]}},KEY_RIGHT_DOWN:{get:function(){return a[296]}},KEY_DOWN_UP:{get:function(){return a[39]}},KEY_DOWN_PRESS:{get:function(){return a[167]}},KEY_DOWN_DOWN:{get:function(){return a[295]}},KEY_BRACKET_L_UP:{get:function(){return a[219]}},KEY_BRACKET_L_PRESS:{get:function(){return a[347]}},KEY_BRACKET_L_DOWN:{get:function(){return a[475]}},KEY_BRACKET_R_UP:{get:function(){return a[221]}},
KEY_BRACKET_R_PRESS:{get:function(){return a[349]}},KEY_BRACKET_R_DOWN:{get:function(){return a[477]}},KEY_COLON_UP:{get:function(){return a[186]}},KEY_COLON_PRESS:{get:function(){return a[314]}},KEY_COLON_DOWN:{get:function(){return a[442]}},KEY_QUOTE_UP:{get:function(){return a[222]}},KEY_QUOTE_PRESS:{get:function(){return a[350]}},KEY_QUOTE_DOWN:{get:function(){return a[478]}},KEY_COMMA_UP:{get:function(){return a[188]}},KEY_COMMA_PRESS:{get:function(){return a[316]}},KEY_COMMA_DOWN:{get:function(){return a[444]}},
KEY_PERIOD_UP:{get:function(){return a[190]}},KEY_PERIOD_PRESS:{get:function(){return a[318]}},KEY_PERIOD_DOWN:{get:function(){return a[446]}},KEY_SLASH_F_UP:{get:function(){return a[191]}},KEY_SLASH_F_PRESS:{get:function(){return a[319]}},KEY_SLASH_F_DOWN:{get:function(){return a[447]}},KEY_SLASH_B_UP:{get:function(){return a[220]}},KEY_SLASH_B_PRESS:{get:function(){return a[348]}},KEY_SLASH_B_DOWN:{get:function(){return a[476]}},KEY_A_UP:{get:function(){return a[65]}},KEY_A_PRESS:{get:function(){return a[193]}},
KEY_A_DOWN:{get:function(){return a[321]}},KEY_B_UP:{get:function(){return a[66]}},KEY_B_PRESS:{get:function(){return a[194]}},KEY_B_DOWN:{get:function(){return a[322]}},KEY_C_UP:{get:function(){return a[67]}},KEY_C_PRESS:{get:function(){return a[195]}},KEY_C_DOWN:{get:function(){return a[323]}},KEY_D_UP:{get:function(){return a[68]}},KEY_D_PRESS:{get:function(){return a[196]}},KEY_D_DOWN:{get:function(){return a[324]}},KEY_E_UP:{get:function(){return a[69]}},KEY_E_PRESS:{get:function(){return a[197]}},
KEY_E_DOWN:{get:function(){return a[325]}},KEY_F_UP:{get:function(){return a[70]}},KEY_F_PRESS:{get:function(){return a[198]}},KEY_F_DOWN:{get:function(){return a[326]}},KEY_G_UP:{get:function(){return a[71]}},KEY_G_PRESS:{get:function(){return a[199]}},KEY_G_DOWN:{get:function(){return a[327]}},KEY_H_UP:{get:function(){return a[72]}},KEY_H_PRESS:{get:function(){return a[200]}},KEY_H_DOWN:{get:function(){return a[328]}},KEY_I_UP:{get:function(){return a[73]}},KEY_I_PRESS:{get:function(){return a[201]}},
KEY_I_DOWN:{get:function(){return a[329]}},KEY_J_UP:{get:function(){return a[74]}},KEY_J_PRESS:{get:function(){return a[202]}},KEY_J_DOWN:{get:function(){return a[330]}},KEY_K_UP:{get:function(){return a[75]}},KEY_K_PRESS:{get:function(){return a[203]}},KEY_K_DOWN:{get:function(){return a[331]}},KEY_L_UP:{get:function(){return a[76]}},KEY_L_PRESS:{get:function(){return a[204]}},KEY_L_DOWN:{get:function(){return a[332]}},KEY_M_UP:{get:function(){return a[77]}},KEY_M_PRESS:{get:function(){return a[205]}},
KEY_M_DOWN:{get:function(){return a[333]}},KEY_N_UP:{get:function(){return a[78]}},KEY_N_PRESS:{get:function(){return a[206]}},KEY_N_DOWN:{get:function(){return a[334]}},KEY_O_UP:{get:function(){return a[79]}},KEY_O_PRESS:{get:function(){return a[207]}},KEY_O_DOWN:{get:function(){return a[335]}},KEY_P_UP:{get:function(){return a[80]}},KEY_P_PRESS:{get:function(){return a[208]}},KEY_P_DOWN:{get:function(){return a[336]}},KEY_Q_UP:{get:function(){return a[81]}},KEY_Q_PRESS:{get:function(){return a[209]}},
KEY_Q_DOWN:{get:function(){return a[337]}},KEY_R_UP:{get:function(){return a[82]}},KEY_R_PRESS:{get:function(){return a[210]}},KEY_R_DOWN:{get:function(){return a[338]}},KEY_S_UP:{get:function(){return a[83]}},KEY_S_PRESS:{get:function(){return a[211]}},KEY_S_DOWN:{get:function(){return a[339]}},KEY_T_UP:{get:function(){return a[84]}},KEY_T_PRESS:{get:function(){return a[212]}},KEY_T_DOWN:{get:function(){return a[340]}},KEY_U_UP:{get:function(){return a[85]}},KEY_U_PRESS:{get:function(){return a[213]}},
KEY_U_DOWN:{get:function(){return a[341]}},KEY_V_UP:{get:function(){return a[86]}},KEY_V_PRESS:{get:function(){return a[214]}},KEY_V_DOWN:{get:function(){return a[342]}},KEY_W_UP:{get:function(){return a[87]}},KEY_W_PRESS:{get:function(){return a[215]}},KEY_W_DOWN:{get:function(){return a[343]}},KEY_X_UP:{get:function(){return a[88]}},KEY_X_PRESS:{get:function(){return a[216]}},KEY_X_DOWN:{get:function(){return a[344]}},KEY_Y_UP:{get:function(){return a[89]}},KEY_Y_PRESS:{get:function(){return a[217]}},
KEY_Y_DOWN:{get:function(){return a[345]}},KEY_Z_UP:{get:function(){return a[90]}},KEY_Z_PRESS:{get:function(){return a[218]}},KEY_Z_DOWN:{get:function(){return a[346]}},InputUpdate:{value:function(){for(var b=128;256>b;++b)a[b]&&(a[b]=!1)}}})}function I(){var b=0,a=0,c=0;Object.defineProperties(this,{Ambient:{value:function(a){1>b&&(m[0]=new N(a),b++);return m[0]}},Directional:{value:function(b){if(3>a)for(var c=1;4>c;++c)if(void 0===m[c])return m[c]=new O(b),a++,m[c]}},Point:{value:function(a){if(3>
c)for(var b=4;12>b;++b)if(void 0===m[b])return m[b]=new P(a),c++,m[b]}},Remove:{value:function(d){if(d)switch(d.Type){case "AMBIENTLIGHT":m[0]=void 0;--b;break;case "DIRECTIONALLIGHT":for(var e=1;4>e;++e)if(m[e]===d){m[e]=void 0;--a;break}break;case "POINTLIGHT":for(e=4;12>e;++e)if(m[e]===d){m[e]=void 0;--c;break}}}}})}function Q(b){r.call(this,b);b||(b={});var a=b.colour instanceof Float32Array?b.colour:new Float32Array(3),c="number"===typeof b.intensity?b.intensity:1;Object.defineProperties(this,
{Colour:{get:function(){return a},set:function(b){b instanceof Float32Array&&3===b.length&&FWGE.Game.Maths.Vector3.Set(a,b)}},Intensity:{get:function(){return c},set:function(a){"number"===typeof a&&(c=a)}}});m.push(this)}function N(b){b||(b={});b.type="AMBIENTLIGHT";Q.call(this,b)}function O(b){b||(b={});b.type="DIRECTIONALLIGHT";LightObject.call(this,b);var a=b.direction instanceof Float32Array&&3===b.direction.length?b.direction:new Float32Array(3);Object.defineProperties(this,{Direction:{get:function(){return a}},
DirectionalUpdate:{value:function(){}}})}function P(b){b||(b={});b.type="POINTLIGHT";LightObject.call(this,b);var a="number"===typeof b.radius?b.radius:5,c="number"===typeof b.angle?b.angle:180;Object.defineProperties(this,{Radius:{get:function(){return a},set:function(b){"number"===typeof b&&(a=b)}},Angle:{get:function(){return c},set:function(a){"number"===typeof a&&(c=Math.clamp(0,180,a))}}})}function J(){Object.defineProperties(this,{Matrix2:{value:new R},Matrix3:{value:new S},Matrix4:{value:new T},
Vector2:{value:new U},Vector3:{value:new V},Vector4:{value:new W},Quaternion:{value:new X}})}function R(){function b(){var a=[];console.log(arguments);if(0===arguments[1].length)a="undefined";else for(var b in arguments[1])a.push(typeof arguments[1][b]);switch(arguments[0]){case "SET":console.error(Error("No match for given parameters: "+a.toString()+"\n\tFWGE.Maths.Matrix2.Set(Float32Array, Float32Array)\n\tFWGE.Maths.Matrix2.Set(Float32Array, number, number, number, number)"))}}Object.defineProperties(this,
{Create:{value:function(a,b,c,f){var d=new Float32Array(4);d[0]="number"===typeof a?a:a instanceof Array&&"number"===typeof a[0]?a[0]:0;d[1]="number"===typeof b?b:a instanceof Array&&"number"===typeof a[1]?a[1]:0;d[2]="number"===typeof c?c:a instanceof Array&&"number"===typeof a[2]?a[2]:0;d[3]="number"===typeof f?f:a instanceof Array&&"number"===typeof a[3]?a[3]:0;Object.defineProperties(d,{Type:{value:"MATRIX2"},M11:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},M12:{get:function(){return d[1]},
set:function(a){"number"===typeof a&&(d[1]=a)}},M21:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}},M22:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}}});return d}},Set:{value:function(){var a,c,e,f,h;a=arguments[0];arguments[1]instanceof Float32Array&&4===arguments[0].length?(c=arguments[1][0],e=arguments[1][1],f=arguments[1][2],h=arguments[1][3]):(c=arguments[1],e=arguments[2],f=arguments[3],h=arguments[4]);if(a instanceof Float32Array&&
4===arguments[0].length&&"number"===typeof c&&"number"===typeof e&&"number"===typeof f&&"number"===typeof h)return a[0]=c,a[1]=e,a[2]=f,a[3]=h,a;b("SET",arguments)}},Transpose:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length)return this.Set(arguments[0],arguments[0][0],arguments[0][2],arguments[0][1],arguments[0][3]);b("TRANSPOSE",arguments)}},Identity:{value:function(a){return a instanceof Float32Array&&4===a.length?this.Set(a,1,0,0,1):this.Create(1,0,0,1)}},Determinant:{value:function(){if(arguments[0]instanceof
Float32Array&&4===arguments[0].length)return arguments[0][0]*arguments[0][3]-arguments[0][2]*arguments[0][1];b("DETERMINANT",arguments)}},Inverse:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length){var a=this.Determinant(arguments[0]);return 0!==a?this.Set(arguments[0],arguments[0][3]/a,-arguments[0][1]/a,-arguments[0][2]/a,arguments[0][0]/a):arguments[0]}b("INVERSE",arguments)}},Sum:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length&&
arguments[1]instanceof Float32Array&&4===arguments[1].length)return this.Set(arguments[0],arguments[0][0]+arguments[1][0],arguments[0][1]+arguments[1][1],arguments[0][2]+arguments[1][2],arguments[0][3]+arguments[1][3]);b("SUM",arguments)}},Mult:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length){if(arguments[1]instanceof Float32Array&&4===arguments[1].length)return this.Set(arguments[0],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][2],arguments[0][0]*
arguments[1][1]+arguments[0][1]*arguments[1][3],arguments[0][2]*arguments[1][0]+arguments[0][3]*arguments[1][2],arguments[0][2]*arguments[1][1]+arguments[0][3]*arguments[1][3]);if("number"===typeof arguments[1])return this.Set(arguments[0],arguments[0][0]*arguments[1],arguments[0][1]*arguments[1],arguments[0][2]*arguments[1],arguments[0][3]*arguments[1])}b("MULT",arguments)}},RevMult:{value:function(){if(arguments[0]instanceof Float32Array&&4===arguments[0].length&&arguments[1]instanceof Float32Array&&
4===arguments[1].length)return this.Set(arguments[0],arguments[1][0]*arguments[0][0]+arguments[1][1]*arguments[0][2],arguments[1][0]*arguments[0][1]+arguments[1][1]*arguments[0][3],arguments[1][2]*arguments[0][0]+arguments[1][3]*arguments[0][2],arguments[1][2]*arguments[0][1]+arguments[1][3]*arguments[0][3]);b("REVMULT",arguments)}}})}function S(){function b(){var a=[];console.log(arguments);if(0===arguments[1].length)a="undefined";else for(var b in arguments[1])a.push(typeof arguments[1][b]);switch(arguments[0]){case "SET":console.error(Error("No match for given parameters: "+
a.toString()+"\n\tFWGE.Maths.Matrix2.Set(Float32Array, Float32Array)\n\tFWGE.Maths.Matrix2.Set(Float32Array, number, number, number, number)"))}}Object.defineProperties(this,{Create:{value:function(a,b,c,f,h,g,k,l,n){var d=new Float32Array(9);d[0]="number"===typeof a?a:a instanceof Array&&"number"===typeof a[0]?a[0]:0;d[1]="number"===typeof b?b:a instanceof Array&&"number"===typeof a[1]?a[1]:0;d[2]="number"===typeof c?c:a instanceof Array&&"number"===typeof a[2]?a[2]:0;d[3]="number"===typeof f?f:
a instanceof Array&&"number"===typeof a[3]?a[3]:0;d[4]="number"===typeof h?h:a instanceof Array&&"number"===typeof a[4]?a[4]:0;d[5]="number"===typeof g?g:a instanceof Array&&"number"===typeof a[5]?a[5]:0;d[6]="number"===typeof k?k:a instanceof Array&&"number"===typeof a[6]?a[6]:0;d[7]="number"===typeof l?l:a instanceof Array&&"number"===typeof a[7]?a[7]:0;d[8]="number"===typeof n?n:a instanceof Array&&"number"===typeof a[8]?a[8]:0;Object.defineProperties(d,{Type:{value:"MATRIX3"},M11:{get:function(){return d[0]},
set:function(a){"number"===typeof a&&(d[0]=a)}},M12:{get:function(){return d[1]},set:function(a){"number"===typeof a&&(d[1]=a)}},M13:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}},M21:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}},M22:{get:function(){return d[4]},set:function(a){"number"===typeof a&&(d[4]=a)}},M23:{get:function(){return d[5]},set:function(a){"number"===typeof a&&(d[5]=a)}},M31:{get:function(){return d[6]},set:function(a){"number"===
typeof a&&(d[6]=a)}},M32:{get:function(){return d[7]},set:function(a){"number"===typeof a&&(d[7]=a)}},M33:{get:function(){return d[8]},set:function(a){"number"===typeof a&&(d[8]=a)}}});return d}},Set:{value:function(){var a,c,e,f,h,g,k,l,n,v;a=arguments[0];arguments[1]instanceof Float32Array&&9===arguments[0].length?(c=arguments[1][0],e=arguments[1][1],f=arguments[1][2],h=arguments[1][3],g=arguments[1][4],k=arguments[1][5],l=arguments[1][6],n=arguments[1][7],v=arguments[1][8]):(c=arguments[1],e=arguments[2],
f=arguments[3],h=arguments[4],g=arguments[5],k=arguments[6],l=arguments[7],n=arguments[8],v=arguments[9]);if(a instanceof Float32Array&&9===arguments[0].length&&"number"===typeof c&&"number"===typeof e&&"number"===typeof f&&"number"===typeof h&&"number"===typeof g&&"number"===typeof k&&"number"===typeof l&&"number"===typeof n&&"number"===typeof v)return a[0]=c,a[1]=e,a[2]=f,a[3]=h,a[4]=g,a[5]=k,a[6]=l,a[7]=n,a[8]=v,a;b("SET",arguments)}},Transpose:{value:function(){if(arguments[0]instanceof Float32Array&&
9===arguments[0].length)return this.Set(arguments[0],arguments[0][0],arguments[0][3],arguments[0][6],arguments[0][1],arguments[0][4],arguments[0][7],arguments[0][2],arguments[0][5],arguments[0][8]);b("TRANSPOSE",arguments)}},Identity:{value:function(a){return a instanceof Float32Array&&9===a.length?this.Set(a,1,0,0,0,1,0,0,0,1):this.Create(1,0,0,0,1,0,0,0,1)}},Determinant:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length)return arguments[0][0]*(arguments[0][4]*arguments[0][8]-
arguments[0][5]*arguments[0][7])-arguments[0][1]*(arguments[0][3]*arguments[0][8]-arguments[0][5]*arguments[0][6])+arguments[0][2]*(arguments[0][3]*arguments[0][7]-arguments[0][4]*arguments[0][6]);b("DETERMINANT",arguments)}},Inverse:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length){var a=this.Determinant(arguments[0]);return 0!==a?this.Set(arguments[0],(arguments[0][4]*arguments[0][8]-arguments[0][7]*arguments[0][5])/a,-(arguments[0][1]*arguments[0][8]-arguments[0][7]*
arguments[0][2])/a,(arguments[0][1]*arguments[0][5]-arguments[0][4]*arguments[0][2])/a,-(arguments[0][3]*arguments[0][8]-arguments[0][6]*arguments[0][5])/a,(arguments[0][0]*arguments[0][8]-arguments[0][6]*arguments[0][2])/a,-(arguments[0][0]*arguments[0][5]-arguments[0][3]*arguments[0][2])/a,(arguments[0][3]*arguments[0][7]-arguments[0][6]*arguments[0][4])/a,-(arguments[0][0]*arguments[0][7]-arguments[0][6]*arguments[0][1])/a,(arguments[0][0]*arguments[0][4]-arguments[0][3]*arguments[0][1])/a):arguments[0]}b("INVERSE",
arguments)}},Sum:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length&&arguments[1]instanceof Float32Array&&9===arguments[1].length)return this.Set(arguments[0],arguments[0][0]+arguments[1][0],arguments[0][1]+arguments[1][1],arguments[0][2]+arguments[1][2],arguments[0][3]+arguments[1][3],arguments[0][4]+arguments[1][4],arguments[0][5]+arguments[1][5],arguments[0][6]+arguments[1][6],arguments[0][7]+arguments[1][7],arguments[0][8]+arguments[1][8]);b("SUM",arguments)}},Mult:{value:function(){if(arguments[0]instanceof
Float32Array&&9===arguments[0].length){if(arguments[1]instanceof Float32Array&&9===arguments[1].length)return this.Set(arguments[0],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][3]+arguments[0][2]*arguments[1][6],arguments[0][0]*arguments[1][1]+arguments[0][1]*arguments[1][4]+arguments[0][2]*arguments[1][7],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][8],arguments[0][3]*arguments[1][0]+arguments[0][4]*arguments[1][3]+arguments[0][5]*arguments[1][6],
arguments[0][3]*arguments[1][1]+arguments[0][4]*arguments[1][4]+arguments[0][5]*arguments[1][7],arguments[0][3]*arguments[1][2]+arguments[0][4]*arguments[1][5]+arguments[0][5]*arguments[1][8],arguments[0][6]*arguments[1][0]+arguments[0][7]*arguments[1][3]+arguments[0][8]*arguments[1][6],arguments[0][6]*arguments[1][1]+arguments[0][7]*arguments[1][4]+arguments[0][8]*arguments[1][7],arguments[0][6]*arguments[1][2]+arguments[0][7]*arguments[1][5]+arguments[0][8]*arguments[1][8]);if("number"===typeof arguments[1])return this.Set(arguments[0],
arguments[0][0]*arguments[1],arguments[0][1]*arguments[1],arguments[0][2]*arguments[1],arguments[0][3]*arguments[1],arguments[0][4]*arguments[1],arguments[0][5]*arguments[1],arguments[0][6]*arguments[1],arguments[0][7]*arguments[1],arguments[0][8]*arguments[1])}b("MULT",arguments)}},RevMult:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length&&arguments[1]instanceof Float32Array&&9===arguments[1].length)return this.Set(arguments[1],arguments[0][0]*arguments[1][0]+arguments[0][1]*
arguments[1][3]+arguments[0][2]*arguments[1][6],arguments[0][0]*arguments[1][1]+arguments[0][1]*arguments[1][4]+arguments[0][2]*arguments[1][7],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][8],arguments[0][3]*arguments[1][0]+arguments[0][4]*arguments[1][3]+arguments[0][5]*arguments[1][6],arguments[0][3]*arguments[1][1]+arguments[0][4]*arguments[1][4]+arguments[0][5]*arguments[1][7],arguments[0][3]*arguments[1][2]+arguments[0][4]*arguments[1][5]+arguments[0][5]*
arguments[1][8],arguments[0][6]*arguments[1][0]+arguments[0][7]*arguments[1][3]+arguments[0][8]*arguments[1][6],arguments[0][6]*arguments[1][1]+arguments[0][7]*arguments[1][4]+arguments[0][8]*arguments[1][7],arguments[0][6]*arguments[1][2]+arguments[0][7]*arguments[1][5]+arguments[0][8]*arguments[1][8]);b("REVMULT",arguments)}}})}function T(){function b(){var a=[];console.log(arguments);if(0===arguments[1].length)a="undefined";else for(var b in arguments[1])a.push(typeof arguments[1][b]);switch(arguments[0]){case "SET":console.error(Error("No match for given parameters: "+
a.toString()+"\n\tFWGE.Maths.Matrix2.Set(Float32Array, Float32Array)\n\tFWGE.Maths.Matrix2.Set(Float32Array, number, number, number, number)"))}}Object.defineProperties(this,{Create:{value:function(a,b,c,f,h,g,k,l,n,v,x,m,p,q,r,t){var d=new Float32Array(16);d[0]="number"===typeof a?a:a instanceof Array&&"number"===typeof a[0]?a[0]:0;d[1]="number"===typeof b?b:a instanceof Array&&"number"===typeof a[1]?a[1]:0;d[2]="number"===typeof c?c:a instanceof Array&&"number"===typeof a[2]?a[2]:0;d[3]="number"===
typeof f?f:a instanceof Array&&"number"===typeof a[3]?a[3]:0;d[4]="number"===typeof h?h:a instanceof Array&&"number"===typeof a[4]?a[4]:0;d[5]="number"===typeof g?g:a instanceof Array&&"number"===typeof a[5]?a[5]:0;d[6]="number"===typeof k?k:a instanceof Array&&"number"===typeof a[6]?a[6]:0;d[7]="number"===typeof l?l:a instanceof Array&&"number"===typeof a[7]?a[7]:0;d[8]="number"===typeof n?n:a instanceof Array&&"number"===typeof a[8]?a[8]:0;d[9]="number"===typeof v?v:a instanceof Array&&"number"===
typeof a[9]?a[9]:0;d[10]="number"===typeof x?x:a instanceof Array&&"number"===typeof a[10]?a[10]:0;d[11]="number"===typeof m?m:a instanceof Array&&"number"===typeof a[11]?a[11]:0;d[12]="number"===typeof p?p:a instanceof Array&&"number"===typeof a[12]?a[12]:0;d[13]="number"===typeof q?q:a instanceof Array&&"number"===typeof a[13]?a[13]:0;d[14]="number"===typeof r?r:a instanceof Array&&"number"===typeof a[14]?a[14]:0;d[15]="number"===typeof t?t:a instanceof Array&&"number"===typeof a[15]?a[15]:0;Object.defineProperties(d,
{Type:{value:"MATRIX4"},M11:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},M12:{get:function(){return d[1]},set:function(a){"number"===typeof a&&(d[1]=a)}},M13:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}},M14:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}},M21:{get:function(){return d[4]},set:function(a){"number"===typeof a&&(d[4]=a)}},M22:{get:function(){return d[5]},set:function(a){"number"===typeof a&&(d[5]=
a)}},M23:{get:function(){return d[6]},set:function(a){"number"===typeof a&&(d[6]=a)}},M24:{get:function(){return d[7]},set:function(a){"number"===typeof a&&(d[7]=a)}},M31:{get:function(){return d[8]},set:function(a){"number"===typeof a&&(d[8]=a)}},M32:{get:function(){return d[9]},set:function(a){"number"===typeof a&&(d[9]=a)}},M33:{get:function(){return d[10]},set:function(a){"number"===typeof a&&(d[10]=a)}},M34:{get:function(){return d[11]},set:function(a){"number"===typeof a&&(d[11]=a)}},M41:{get:function(){return d[12]},
set:function(a){"number"===typeof a&&(d[12]=a)}},M42:{get:function(){return d[13]},set:function(a){"number"===typeof a&&(d[13]=a)}},M43:{get:function(){return d[14]},set:function(a){"number"===typeof a&&(d[14]=a)}},M44:{get:function(){return d[15]},set:function(a){"number"===typeof a&&(d[15]=a)}}});return d}},Set:{value:function(){var a,c,e,f,h,g,k,l,n,m,x,p,q,r,t,u,w;a=arguments[0];arguments[1]instanceof Float32Array&&16===arguments[0].length?(c=arguments[1][0],e=arguments[1][1],f=arguments[1][2],
h=arguments[1][3],g=arguments[1][4],k=arguments[1][5],l=arguments[1][6],n=arguments[1][7],m=arguments[1][8],x=arguments[1][9],p=arguments[1][10],q=arguments[1][11],r=arguments[1][12],t=arguments[1][13],u=arguments[1][14],w=arguments[1][15]):(c=arguments[1],e=arguments[2],f=arguments[3],h=arguments[4],g=arguments[5],k=arguments[6],l=arguments[7],n=arguments[8],m=arguments[9],x=arguments[10],p=arguments[11],q=arguments[12],r=arguments[13],t=arguments[14],u=arguments[15],w=arguments[16]);if(a instanceof
Float32Array&&16===arguments[0].length&&"number"===typeof c&&"number"===typeof e&&"number"===typeof f&&"number"===typeof h&&"number"===typeof g&&"number"===typeof k&&"number"===typeof l&&"number"===typeof n&&"number"===typeof m&&"number"===typeof x&&"number"===typeof p&&"number"===typeof q&&"number"===typeof r&&"number"===typeof t&&"number"===typeof u&&"number"===typeof w)return a[0]=c,a[1]=e,a[2]=f,a[3]=h,a[4]=g,a[5]=k,a[6]=l,a[7]=n,a[8]=m,a[9]=x,a[10]=p,a[11]=q,a[12]=r,a[13]=t,a[14]=u,a[15]=w,a;
b("SET",arguments)}},Transpose:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length)return this.Set(arguments[0],arguments[0][0],arguments[0][4],arguments[0][8],arguments[0][12],arguments[0][1],arguments[0][5],arguments[0][9],arguments[0][13],arguments[0][2],arguments[0][6],arguments[0][10],arguments[0][14],arguments[0][3],arguments[0][7],arguments[0][11],arguments[0][15]);b("TRANSPOSE",arguments)}},Identity:{value:function(a){return a instanceof Float32Array&&16===a.length?
this.Set(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1):this.Create(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},Determinant:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length)return arguments[0][0]*arguments[0][5]*arguments[0][10]*arguments[0][15]+arguments[0][0]*arguments[0][6]*arguments[0][11]*arguments[0][13]+arguments[0][0]*arguments[0][7]*arguments[0][9]*arguments[0][14]+arguments[0][1]*arguments[0][4]*arguments[0][11]*arguments[0][14]+arguments[0][1]*arguments[0][6]*arguments[0][8]*
arguments[0][15]+arguments[0][1]*arguments[0][7]*arguments[0][10]*arguments[0][12]+arguments[0][2]*arguments[0][4]*arguments[0][9]*arguments[0][15]+arguments[0][2]*arguments[0][5]*arguments[0][11]*arguments[0][12]+arguments[0][2]*arguments[0][7]*arguments[0][8]*arguments[0][13]+arguments[0][3]*arguments[0][4]*arguments[0][10]*arguments[0][13]+arguments[0][3]*arguments[0][5]*arguments[0][8]*arguments[0][14]+arguments[0][3]*arguments[0][6]*arguments[0][9]*arguments[0][12]-arguments[0][0]*arguments[0][5]*
arguments[0][11]*arguments[0][14]-arguments[0][0]*arguments[0][6]*arguments[0][9]*arguments[0][15]-arguments[0][0]*arguments[0][7]*arguments[0][10]*arguments[0][13]-arguments[0][1]*arguments[0][4]*arguments[0][10]*arguments[0][15]-arguments[0][1]*arguments[0][6]*arguments[0][11]*arguments[0][12]-arguments[0][1]*arguments[0][7]*arguments[0][8]*arguments[0][14]-arguments[0][2]*arguments[0][4]*arguments[0][11]*arguments[0][13]-arguments[0][2]*arguments[0][5]*arguments[0][8]*arguments[0][15]-arguments[0][2]*
arguments[0][7]*arguments[0][9]*arguments[0][12]-arguments[0][3]*arguments[0][4]*arguments[0][9]*arguments[0][14]-arguments[0][3]*arguments[0][5]*arguments[0][10]*arguments[0][12]-arguments[0][3]*arguments[0][6]*arguments[0][8]*arguments[0][13];b("DETERMINANT",arguments)}},Inverse:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length){var a=this.Determinant(arguments[0]);return 0!==a?this.Set(arguments[0],(arguments[0][5]*arguments[0][10]*arguments[0][15]+arguments[0][6]*
arguments[0][11]*arguments[0][13]+arguments[0][7]*arguments[0][9]*arguments[0][14]-arguments[0][5]*arguments[0][11]*arguments[0][14]-arguments[0][6]*arguments[0][9]*arguments[0][15]-arguments[0][7]*arguments[0][10]*arguments[0][13])/a,(arguments[0][1]*arguments[0][11]*arguments[0][14]+arguments[0][2]*arguments[0][9]*arguments[0][15]+arguments[0][3]*arguments[0][10]*arguments[0][13]-arguments[0][1]*arguments[0][10]*arguments[0][15]-arguments[0][2]*arguments[0][11]*arguments[0][13]-arguments[0][3]*
arguments[0][9]*arguments[0][14])/a,(arguments[0][1]*arguments[0][6]*arguments[0][15]+arguments[0][2]*arguments[0][7]*arguments[0][13]+arguments[0][3]*arguments[0][5]*arguments[0][14]-arguments[0][1]*arguments[0][7]*arguments[0][14]-arguments[0][2]*arguments[0][5]*arguments[0][15]-arguments[0][3]*arguments[0][6]*arguments[0][13])/a,(arguments[0][1]*arguments[0][7]*arguments[0][10]+arguments[0][2]*arguments[0][5]*arguments[0][11]+arguments[0][3]*arguments[0][6]*arguments[0][9]-arguments[0][1]*arguments[0][6]*
arguments[0][11]-arguments[0][2]*arguments[0][7]*arguments[0][9]-arguments[0][3]*arguments[0][5]*arguments[0][10])/a,(arguments[0][4]*arguments[0][11]*arguments[0][14]+arguments[0][6]*arguments[0][8]*arguments[0][15]+arguments[0][7]*arguments[0][10]*arguments[0][12]-arguments[0][4]*arguments[0][10]*arguments[0][15]-arguments[0][6]*arguments[0][11]*arguments[0][12]-arguments[0][7]*arguments[0][8]*arguments[0][14])/a,(arguments[0][0]*arguments[0][10]*arguments[0][15]+arguments[0][2]*arguments[0][11]*
arguments[0][12]+arguments[0][3]*arguments[0][8]*arguments[0][14]-arguments[0][0]*arguments[0][11]*arguments[0][14]-arguments[0][2]*arguments[0][8]*arguments[0][15]-arguments[0][3]*arguments[0][10]*arguments[0][12])/a,(arguments[0][0]*arguments[0][7]*arguments[0][14]+arguments[0][2]*arguments[0][4]*arguments[0][15]+arguments[0][3]*arguments[0][6]*arguments[0][12]-arguments[0][0]*arguments[0][6]*arguments[0][15]-arguments[0][2]*arguments[0][7]*arguments[0][12]-arguments[0][3]*arguments[0][4]*arguments[0][14])/
a,(arguments[0][0]*arguments[0][6]*arguments[0][11]+arguments[0][2]*arguments[0][7]*arguments[0][8]+arguments[0][3]*arguments[0][4]*arguments[0][10]-arguments[0][0]*arguments[0][7]*arguments[0][10]-arguments[0][2]*arguments[0][4]*arguments[0][11]-arguments[0][3]*arguments[0][6]*arguments[0][8])/a,(arguments[0][4]*arguments[0][9]*arguments[0][15]+arguments[0][5]*arguments[0][11]*arguments[0][12]+arguments[0][7]*arguments[0][8]*arguments[0][13]-arguments[0][4]*arguments[0][11]*arguments[0][13]-arguments[0][5]*
arguments[0][8]*arguments[0][15]-arguments[0][7]*arguments[0][9]*arguments[0][12])/a,(arguments[0][0]*arguments[0][11]*arguments[0][13]+arguments[0][1]*arguments[0][8]*arguments[0][15]+arguments[0][3]*arguments[0][9]*arguments[0][12]-arguments[0][0]*arguments[0][9]*arguments[0][15]-arguments[0][1]*arguments[0][11]*arguments[0][12]-arguments[0][3]*arguments[0][8]*arguments[0][13])/a,(arguments[0][0]*arguments[0][5]*arguments[0][15]+arguments[0][1]*arguments[0][7]*arguments[0][12]+arguments[0][3]*arguments[0][4]*
arguments[0][13]-arguments[0][0]*arguments[0][7]*arguments[0][13]-arguments[0][1]*arguments[0][4]*arguments[0][15]-arguments[0][3]*arguments[0][5]*arguments[0][12])/a,(arguments[0][0]*arguments[0][7]*arguments[0][9]+arguments[0][1]*arguments[0][4]*arguments[0][11]+arguments[0][3]*arguments[0][5]*arguments[0][8]-arguments[0][0]*arguments[0][5]*arguments[0][11]-arguments[0][1]*arguments[0][7]*arguments[0][8]-arguments[0][3]*arguments[0][4]*arguments[0][9])/a,(arguments[0][4]*arguments[0][10]*arguments[0][13]+
arguments[0][5]*arguments[0][8]*arguments[0][14]+arguments[0][6]*arguments[0][9]*arguments[0][12]-arguments[0][4]*arguments[0][9]*arguments[0][14]-arguments[0][5]*arguments[0][10]*arguments[0][12]-arguments[0][6]*arguments[0][8]*arguments[0][13])/a,(arguments[0][0]*arguments[0][9]*arguments[0][14]+arguments[0][1]*arguments[0][10]*arguments[0][12]+arguments[0][2]*arguments[0][8]*arguments[0][13]-arguments[0][0]*arguments[0][10]*arguments[0][13]-arguments[0][1]*arguments[0][8]*arguments[0][14]-arguments[0][2]*
arguments[0][9]*arguments[0][12])/a,(arguments[0][0]*arguments[0][6]*arguments[0][13]+arguments[0][1]*arguments[0][4]*arguments[0][14]+arguments[0][2]*arguments[0][5]*arguments[0][12]-arguments[0][0]*arguments[0][5]*arguments[0][14]-arguments[0][1]*arguments[0][6]*arguments[0][12]-arguments[0][2]*arguments[0][4]*arguments[0][13])/a,(arguments[0][0]*arguments[0][5]*arguments[0][10]+arguments[0][1]*arguments[0][6]*arguments[0][8]+arguments[0][2]*arguments[0][4]*arguments[0][9]-arguments[0][0]*arguments[0][6]*
arguments[0][9]-arguments[0][1]*arguments[0][4]*arguments[0][10]-arguments[0][2]*arguments[0][5]*arguments[0][8])/a):arguments[0]}b("INVERSE",arguments)}},Sum:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length&&arguments[1]instanceof Float32Array&&16===arguments[1].length)return this.Set(arguments[0],arguments[0][0]+arguments[1][0],arguments[0][1]+arguments[1][1],arguments[0][2]+arguments[1][2],arguments[0][3]+arguments[1][3],arguments[0][4]+arguments[1][4],arguments[0][5]+
arguments[1][5],arguments[0][6]+arguments[1][6],arguments[0][7]+arguments[1][7],arguments[0][8]+arguments[1][8],arguments[0][9]+arguments[1][9],arguments[0][10]+arguments[1][10],arguments[0][11]+arguments[1][11],arguments[0][12]+arguments[1][12],arguments[0][13]+arguments[1][13],arguments[0][14]+arguments[1][14],arguments[0][15]+arguments[1][15]);b("SUM",arguments)}},Mult:{value:function(){if(arguments[0]instanceof Float32Array&&16===arguments[0].length){if(arguments[1]instanceof Float32Array&&16===
arguments[1].length)return this.Set(arguments[0],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][4]+arguments[0][2]*arguments[1][8]+arguments[0][3]*arguments[1][12],arguments[0][0]*arguments[1][1]+arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][9]+arguments[0][3]*arguments[1][13],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][6]+arguments[0][2]*arguments[1][10]+arguments[0][3]*arguments[1][14],arguments[0][0]*arguments[1][3]+arguments[0][1]*arguments[1][7]+
arguments[0][2]*arguments[1][11]+arguments[0][3]*arguments[1][15],arguments[0][4]*arguments[1][0]+arguments[0][5]*arguments[1][4]+arguments[0][6]*arguments[1][8]+arguments[0][7]*arguments[1][12],arguments[0][4]*arguments[1][1]+arguments[0][5]*arguments[1][5]+arguments[0][6]*arguments[1][9]+arguments[0][7]*arguments[1][13],arguments[0][4]*arguments[1][2]+arguments[0][5]*arguments[1][6]+arguments[0][6]*arguments[1][10]+arguments[0][7]*arguments[1][14],arguments[0][4]*arguments[1][3]+arguments[0][5]*
arguments[1][7]+arguments[0][6]*arguments[1][11]+arguments[0][7]*arguments[1][15],arguments[0][8]*arguments[1][0]+arguments[0][9]*arguments[1][4]+arguments[0][10]*arguments[1][8]+arguments[0][11]*arguments[1][12],arguments[0][8]*arguments[1][1]+arguments[0][9]*arguments[1][5]+arguments[0][10]*arguments[1][9]+arguments[0][11]*arguments[1][13],arguments[0][8]*arguments[1][2]+arguments[0][9]*arguments[1][6]+arguments[0][10]*arguments[1][10]+arguments[0][11]*arguments[1][14],arguments[0][8]*arguments[1][3]+
arguments[0][9]*arguments[1][7]+arguments[0][10]*arguments[1][11]+arguments[0][11]*arguments[1][15],arguments[0][12]*arguments[1][0]+arguments[0][13]*arguments[1][4]+arguments[0][14]*arguments[1][8]+arguments[0][15]*arguments[1][12],arguments[0][12]*arguments[1][1]+arguments[0][13]*arguments[1][5]+arguments[0][14]*arguments[1][9]+arguments[0][15]*arguments[1][13],arguments[0][12]*arguments[1][2]+arguments[0][13]*arguments[1][6]+arguments[0][14]*arguments[1][10]+arguments[0][15]*arguments[1][14],arguments[0][12]*
arguments[1][3]+arguments[0][13]*arguments[1][7]+arguments[0][14]*arguments[1][11]+arguments[0][15]*arguments[1][15]);if("number"===typeof arguments[1])return this.Set(arguments[0],arguments[0][0]*arguments[1],arguments[0][1]*arguments[1],arguments[0][2]*arguments[1],arguments[0][3]*arguments[1],arguments[0][4]*arguments[1],arguments[0][5]*arguments[1],arguments[0][6]*arguments[1],arguments[0][7]*arguments[1],arguments[0][8]*arguments[1],arguments[0][9]*arguments[1],arguments[0][10]*arguments[1],
arguments[0][11]*arguments[1],arguments[0][12]*arguments[1],arguments[0][13]*arguments[1],arguments[0][14]*arguments[1],arguments[0][15]*arguments[1])}b("MULT",arguments)}},RevMult:{value:function(){if(arguments[0]instanceof Float32Array&&9===arguments[0].length&&arguments[1]instanceof Float32Array&&16===arguments[1].length)return this.Set(arguments[1],arguments[0][0]*arguments[1][0]+arguments[0][1]*arguments[1][4]+arguments[0][2]*arguments[1][8]+arguments[0][3]*arguments[1][12],arguments[0][0]*arguments[1][1]+
arguments[0][1]*arguments[1][5]+arguments[0][2]*arguments[1][9]+arguments[0][3]*arguments[1][13],arguments[0][0]*arguments[1][2]+arguments[0][1]*arguments[1][6]+arguments[0][2]*arguments[1][10]+arguments[0][3]*arguments[1][14],arguments[0][0]*arguments[1][3]+arguments[0][1]*arguments[1][7]+arguments[0][2]*arguments[1][11]+arguments[0][3]*arguments[1][15],arguments[0][4]*arguments[1][0]+arguments[0][5]*arguments[1][4]+arguments[0][6]*arguments[1][8]+arguments[0][7]*arguments[1][12],arguments[0][4]*
arguments[1][1]+arguments[0][5]*arguments[1][5]+arguments[0][6]*arguments[1][9]+arguments[0][7]*arguments[1][13],arguments[0][4]*arguments[1][2]+arguments[0][5]*arguments[1][6]+arguments[0][6]*arguments[1][10]+arguments[0][7]*arguments[1][14],arguments[0][4]*arguments[1][3]+arguments[0][5]*arguments[1][7]+arguments[0][6]*arguments[1][11]+arguments[0][7]*arguments[1][15],arguments[0][8]*arguments[1][0]+arguments[0][9]*arguments[1][4]+arguments[0][10]*arguments[1][8]+arguments[0][11]*arguments[1][12],
arguments[0][8]*arguments[1][1]+arguments[0][9]*arguments[1][5]+arguments[0][10]*arguments[1][9]+arguments[0][11]*arguments[1][13],arguments[0][8]*arguments[1][2]+arguments[0][9]*arguments[1][6]+arguments[0][10]*arguments[1][10]+arguments[0][11]*arguments[1][14],arguments[0][8]*arguments[1][3]+arguments[0][9]*arguments[1][7]+arguments[0][10]*arguments[1][11]+arguments[0][11]*arguments[1][15],arguments[0][12]*arguments[1][0]+arguments[0][13]*arguments[1][4]+arguments[0][14]*arguments[1][8]+arguments[0][15]*
arguments[1][12],arguments[0][12]*arguments[1][1]+arguments[0][13]*arguments[1][5]+arguments[0][14]*arguments[1][9]+arguments[0][15]*arguments[1][13],arguments[0][12]*arguments[1][2]+arguments[0][13]*arguments[1][6]+arguments[0][14]*arguments[1][10]+arguments[0][15]*arguments[1][14],arguments[0][12]*arguments[1][3]+arguments[0][13]*arguments[1][7]+arguments[0][14]*arguments[1][11]+arguments[0][15]*arguments[1][15]);b("REVMULT",arguments)}}})}function X(){}function U(){Object.defineProperties(this,
{Create:{value:function(b,a){var c=new Float32Array(2);c[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;c[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;Object.defineProperties(c,{Type:{value:"VECTOR2"},X:{get:function(){return c[0]},set:function(a){"number"===typeof a&&(c[0]=a)}},Y:{get:function(){return c[1]},set:function(a){"number"===typeof a&&(c[1]=a)}}});return c}},Set:{value:function(b,a,c){var d;a instanceof Float32Array&&2===b.length?
(d=a[0],a=a[1]):(d=a,a=c);if(b instanceof Float32Array&&2===b.length&&"number"===typeof d&&"number"===typeof a&&"number"===typeof z)return b[0]=d,b[1]=a,b}},Length:{value:function(b){if(b instanceof Float32Array&&2===b.length)return Math.sqrt(b[0]*b[0]+b[1]*b[1])}},Sum:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&2===a.length)return this.Set(b,b[0]+a[0],b[1]+a[1])}},Diff:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&
2===a.length)return this.Create(a[0]-b[0],a[1]-b[1])}},Mult:{value:function(b,a){if(b instanceof Float32Array&&2===b.length){if(a instanceof Float32Array&&2===a.length)return this.Set(b,b[0]*a[0],b[1]*a[1]);if("number"===typeof a)return this.Set(b,b[0]*a,b[1]*a)}}},Dot:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&2===a.length)return b[0]*a[0]+b[1]*a[1]}},Unit:{value:function(b){if(b instanceof Float32Array&&2===b.length){var a=this.Length(b);if(0!==a)return this.Mult(b,
1/a)}}},Cross:{value:function(b,a){if(b instanceof Float32Array&&2===b.length&&a instanceof Float32Array&&2===a.length)return this.Create(b[1]*a[2]+b[2]*a[1],b[2]*a[0]-b[0]*a[2],b[0]*a[1]+b[1]*a[0])}}})}function V(){Object.defineProperties(this,{Create:{value:function(b,a,c){var d=new Float32Array(3);d[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;d[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;d[2]="number"===typeof c?c:b instanceof Array&&
"number"===typeof b[2]?b[2]:0;Object.defineProperties(d,{Type:{value:"VECTOR3"},X:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},Y:{get:function(){return d[1]},set:function(a){"number"===typeof a&&(d[1]=a)}},Z:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}}});return d}},Set:{value:function(b,a,c,e){var d;a instanceof Float32Array&&3===b.length?(d=a[0],c=a[1],a=a[2]):(d=a,a=e);if(b instanceof Float32Array&&3===b.length&&"number"===typeof d&&
"number"===typeof c&&"number"===typeof a)return b[0]=d,b[1]=c,b[2]=a,b}},Length:{value:function(b){if(b instanceof Float32Array&&3===b.length)return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])}},Sum:{value:function(b,a,c){if(b instanceof Float32Array&&3===b.length&&c instanceof Float32Array&&3===a.length)return this.Set(b,b[0]+a[0],b[1]+a[1],b[2]+a[2])}},Diff:{value:function(b,a,c){if(b instanceof Float32Array&&3===b.length&&c instanceof Float32Array&&3===a.length)return this.Create(a[0]-b[0],a[1]-b[1],
a[2]-b[2])}},Mult:{value:function(b,a){if(b instanceof Float32Array&&3===b.length){if(a instanceof Float32Array&&3===a.length)return this.Set(b,b[0]*a[0],b[1]*a[1],b[2]*a[2]);if("number"===typeof a)return this.Set(b,b[0]*a,b[1]*a,b[2]*a)}}},Dot:{value:function(b,a){if(b instanceof Float32Array&&3===b.length&&a instanceof Float32Array&&3===a.length)return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]}},Unit:{value:function(b){if(b instanceof Float32Array&&3===b.length){var a=this.Length(b);if(0!==a)return this.Mult(b,
1/a)}}},Cross:{value:function(b,a){if(b instanceof Float32Array&&3===b.length&&a instanceof Float32Array&&3===a.length)return this.Create(b[1]*a[2]+b[2]*a[1],b[2]*a[0]-b[0]*a[2],b[0]*a[1]+b[1]*a[0])}}})}function W(){Object.defineProperties(this,{Create:{value:function(b,a,c,e){var d=new Float32Array(4);d[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;d[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;d[2]="number"===typeof c?c:b instanceof Array&&
"number"===typeof b[2]?b[2]:0;d[3]="number"===typeof e?e:b instanceof Array&&"number"===typeof b[3]?b[3]:0;Object.defineProperties(d,{Type:{value:"VECTOR4"},W:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=a)}},X:{get:function(){return d[1]},set:function(a){"number"===typeof a&&(d[1]=a)}},Y:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=a)}},Z:{get:function(){return d[3]},set:function(a){"number"===typeof a&&(d[3]=a)}}});return d}},Set:{value:function(b,
a,c,e,f){var d;a instanceof Float32Array&&4===b.length?(d=a[0],c=a[1],e=a[2],a=a[3]):(d=a,a=f);if(b instanceof Float32Array&&4===b.length&&"number"===typeof d&&"number"===typeof c&&"number"===typeof e&&"number"===typeof a)return b[0]=d,b[1]=c,b[2]=e,b[3]=a,b}},Length:{value:function(b){if(b instanceof Float32Array&&4===b.length)return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])}},Sum:{value:function(b,a,c){if(b instanceof Float32Array&&4===b.length&&c instanceof Float32Array&&4===a.length)return this.Set(b,
b[0]+a[0],b[1]+a[1],b[2]+a[2],b[3]+a[3])}},Diff:{value:function(b,a,c){if(b instanceof Float32Array&&4===b.length&&c instanceof Float32Array&&4===a.length)return this.Create(a[0]-b[0],a[1]-b[1],a[2]-b[2],a[3]-b[3])}},Mult:{value:function(b,a){if(b instanceof Float32Array&&4===b.length){if(a instanceof Float32Array&&3===a.length)return this.Set(b,b[0]*a[0],b[1]*a[1],b[2]*a[2],b[3]*a[3]);if("number"===typeof a)return this.Set(b,b[0]*a,b[1]*a,b[2]*a,b[3]*a)}}},Dot:{value:function(b,a){if(b instanceof
Float32Array&&4===b.length&&a instanceof Float32Array&&4===a.length)return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]+b[3]*a[3]}},Unit:{value:function(b){if(b instanceof Float32Array&&4===b.length){var a=this.Length(b);if(0!==a)return this.Mult(b,1/a)}}}})}function K(b){}function B(b){b||(b={});b.type="PARTICLESYSTEM";r.call(this,b)}function Y(){Object.defineProperties(this,{Collision:{value:Z},PhysicsBody:{value:aa},PhysicsMaterial:{value:ba},Gravity:{value:-9.8},Init:{value:function(){}},PhysicsUpdate:{value:function(){}}})}
function w(b){b||(b={});r.call(this,b)}function ba(){}function aa(b){b&&(b={});b.type="RIGIDBODY";w.call(this,b);var a="number"===typeof b.mass?b.mass:1,c="boolean"===typeof b.lockx?b.lockx:!1,e="boolean"===typeof b.locky?b.locky:!1,f="boolean"===typeof b.lockz?b.lockz:!1;Object.defineProperties(this,{Mass:{get:function(){return a},set:function(b){"number"===typeof b&&0<=b&&(a=b)}},LockX:{get:function(){return c},set:function(a){"boolean"===typeof a&&(c=a)}},LockY:{get:function(){return e},set:function(a){"boolean"===
typeof a&&(e=a)}},LockZ:{get:function(){return f},set:function(a){"boolean"===typeof a&&(f=a)}}})}function Z(b){b||(b={});b.type="COLLISION";w.call(this,b)}function ca(){var b;Object.defineProperties(this,{Colour:{value:new da},Mesh:{value:C},RenderMaterial:{value:y},Shader:{value:D},GameScreen:{value:new ea},Init:{value:function(){b=new fa}},RenderUpdate:{value:function(){b.Render()}}})}function ga(b){E.call(this,b)}function D(b){b||(b={});if(b.name&&"string"===typeof b.name&&b.vertexShader&&"string"===
typeof b.vertexShader&&b.fragmentShader&&"string"===typeof b.fragmentShader){"number"!==typeof b.width&&(b.width=512);"number"!==typeof b.height&&(b.height=512);Object.defineProperties(this,{Name:{value:b.name},Program:{value:c.createProgram()},Texture:{value:c.createTexture()},FrameBuffer:{value:c.createFramebuffer()},RenderBuffer:{value:c.createRenderbuffer()}});c.bindFramebuffer(c.FRAMEBUFFER,this.FrameBuffer);c.bindRenderbuffer(c.RENDERBUFFER,this.RenderBuffer);c.renderbufferStorage(c.RENDERBUFFER,
c.DEPTH_COMPONENT16,1024,768);c.bindTexture(c.TEXTURE_2D,this.Texture);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1024,768,0,c.RGBA,c.UNSIGNED_BYTE,null);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.Texture,0);c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.RenderBuffer);c.bindTexture(c.TEXTURE_2D,null);c.bindRenderbuffer(c.RENDERBUFFER,null);c.bindFramebuffer(c.FRAMEBUFFER,null);var a=c.createShader(c.VERTEX_SHADER);c.shaderSource(a,b.vertexShader);c.compileShader(a);if(c.getShaderParameter(a,c.COMPILE_STATUS)){var d=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(d,b.fragmentShader);c.compileShader(d);c.getShaderParameter(d,c.COMPILE_STATUS)?(c.attachShader(this.Program,a),c.attachShader(this.Program,d),c.linkProgram(this.Program),
c.getProgramParameter(this.Program,c.LINK_STATUS)&&(c.useProgram(this.Program),Object.defineProperties(this,{Attributes:{value:{Position:c.getAttribLocation(this.Program,"A_Position"),Colour:c.getAttribLocation(this.Program,"A_Colour"),UV:c.getAttribLocation(this.Program,"A_UV"),Normal:c.getAttribLocation(this.Program,"A_Normal")}},Uniforms:{value:{Material:{Ambient:c.getUniformLocation(this.Program,"U_Material.Ambient"),Diffuse:c.getUniformLocation(this.Program,"U_Material.Diffuse"),Specular:c.getUniformLocation(this.Program,
"U_Material.Specular"),Shininess:c.getUniformLocation(this.Program,"U_Material.Shininess"),Alpha:c.getUniformLocation(this.Program,"U_Material.Alpha")},Matrix:{ModelView:c.getUniformLocation(this.Program,"U_Matrix.ModelView"),Projection:c.getUniformLocation(this.Program,"U_Matrix.Projection"),Normal:c.getUniformLocation(this.Program,"U_Matrix.Normal")},Light:{Ambient:{Colour:c.getUniformLocation(this.Program,"U_Ambient.Colour"),Intensity:c.getUniformLocation(this.Program,"U_Ambient.Intensity")},Directional:{Colour:c.getUniformLocation(this.Program,
"U_Directional.Colour"),Intensity:c.getUniformLocation(this.Program,"U_Directional.Intensity"),Direction:c.getUniformLocation(this.Program,"U_Directional.Direction")},Point:[{Colour:c.getUniformLocation(this.Program,"U_Point[0].Colour"),Intensity:c.getUniformLocation(this.Program,"U_Point[0].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[0].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[0].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[0].Angle")},{Colour:c.getUniformLocation(this.Program,
"U_Point[1].Colour"),Intensity:c.getUniformLocation(this.Program,"U_Point[1].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[1].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[1].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[1].Angle")},{Colour:c.getUniformLocation(this.Program,"U_Point[2].Colour"),Intensity:c.getUniformLocation(this.Program,"U_Point[2].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[2].Position"),Radius:c.getUniformLocation(this.Program,
"U_Point[2].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[2].Angle")},{Colour:c.getUniformLocation(this.Program,"U_Point[3].Colour"),Intensity:c.getUniformLocation(this.Program,"U_Point[3].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[3].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[3].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[3].Angle")},{Colour:c.getUniformLocation(this.Program,"U_Point[4].Colour"),Intensity:c.getUniformLocation(this.Program,
"U_Point[4].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[4].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[4].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[4].Angle")},{Colour:c.getUniformLocation(this.Program,"U_Point[5].Colour"),Intensity:c.getUniformLocation(this.Program,"U_Point[5].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[5].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[5].Radius"),Angle:c.getUniformLocation(this.Program,
"U_Point[5].Angle")},{Colour:c.getUniformLocation(this.Program,"U_Point[6].Colour"),Intensity:c.getUniformLocation(this.Program,"U_Point[6].Intensity"),Position:c.getUniformLocation(this.Program,"U_Point[6].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[6].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[6].Angle")},{Colour:c.getUniformLocation(this.Program,"U_Point[7].Colour"),Intensity:c.getUniformLocation(this.Program,"U_Point[7].Intensity"),Position:c.getUniformLocation(this.Program,
"U_Point[7].Position"),Radius:c.getUniformLocation(this.Program,"U_Point[7].Radius"),Angle:c.getUniformLocation(this.Program,"U_Point[7].Angle")}],PointCount:c.getUniformLocation(this.Program,"U_Point_Count")},Sampler:{Image:c.getUniformLocation(this.Program,"U_Sampler.Image"),Bump:c.getUniformLocation(this.Program,"U_Sampler.Bump")}}}}),c.useProgram(null),t.push(this))):console.error(Error("Fragment Shader: "+c.getShaderInfoLog(d)))}else console.error(Error("Vertex Shader: "+c.getShaderInfoLog(a)))}}
function da(){Object.defineProperties(this,{Create:{value:function(b,a,c){var d=new Float32Array(3);d[0]="number"===typeof b?b:b instanceof Array&&"number"===typeof b[0]?b[0]:0;d[1]="number"===typeof a?a:b instanceof Array&&"number"===typeof b[1]?b[1]:0;d[2]="number"===typeof c?c:b instanceof Array&&"number"===typeof b[2]?b[2]:0;Object.defineProperties(d,{Type:{value:"COLOUR"},R:{get:function(){return d[0]},set:function(a){"number"===typeof a&&(d[0]=Math.clamp(a,0,1))}},G:{get:function(){return d[1]},
set:function(a,b){"number"===typeof b&&(d[1]=Math.clamp(a,0,1))}},B:{get:function(){return d[2]},set:function(a){"number"===typeof a&&(d[2]=Math.clamp(a,0,1))}}});return d}}})}function ea(){}function C(b){function a(a,b){for(var c=a.length;0<--c;)if("number"!==typeof a[c])return;return new b(a)}b||(b={});b.type="MESH";r.call(this,b);b.position=a(b.position,Float32Array);b.uvs=a(b.uvs,Float32Array);b.colours=a(b.colours,Float32Array);b.normals=a(b.normals,Float32Array);b.indices=a(b.indices,Uint16Array);
Object.defineProperties(this,{PositionBuffer:{value:c.createBuffer()},UVBuffer:{value:c.createBuffer()},ColourBuffer:{value:c.createBuffer()},NormalBuffer:{value:c.createBuffer()},IndexBuffer:{value:c.createBuffer()},VertexCount:{value:b.indices?b.indices.length:0}});b.position&&(c.bindBuffer(c.ARRAY_BUFFER,this.PositionBuffer),c.bufferData(c.ARRAY_BUFFER,b.position,c.STATIC_DRAW));b.uvs&&(c.bindBuffer(c.ARRAY_BUFFER,this.UVBuffer),c.bufferData(c.ARRAY_BUFFER,b.uvs,c.STATIC_DRAW));b.colours&&(c.bindBuffer(c.ARRAY_BUFFER,
this.ColourBuffer),c.bufferData(c.ARRAY_BUFFER,b.colours,c.STATIC_DRAW));b.normals&&(c.bindBuffer(c.ARRAY_BUFFER,this.NormalBuffer),c.bufferData(c.ARRAY_BUFFER,b.normals,c.STATIC_DRAW));b.indices&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.IndexBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,b.indices,c.STATIC_DRAW));ha.push(this)}function y(b){function a(a){a&&a instanceof Array||(a=[0,0,0]);if(3>a.length)switch(a.length){case 0:a.position[0]=0;case 1:a.position[1]=0;case 2:a.position[2]=0}return FWGE.Render.Colour.Create(a)}
b||(b={});b.type="MATERIAL";ga.call(this,{parent:void 0});var c=a(b.ambient),e=a(b.diffuse),f=a(b.specular),h="number"===typeof b.alpha&&0<=b.alpha?b.alpha:1,g="number"===typeof b.shininess&&0<=b.shininess?b.shininess:5,k=b.shader instanceof D?b.shader:void 0,l=void 0,n=void 0,m=void 0;Object.defineProperties(this,{Ambient:{get:function(){return c},set:function(a){"COLOUR"===a.Type&&FWGE.Game.Maths.Vector3.Set(c,a)}},Diffuse:{get:function(){return e},set:function(a){"COLOUR"===a.Type&&FWGE.Game.Maths.Vector3.Set(e,
a)}},Specular:{get:function(){return f},set:function(a){"COLOUR"===a.Type&&FWGE.Game.Maths.Vector3.Set(f,a)}},Alpha:{get:function(){return h},set:function(a){"number"===typeof a&&(h=a)}},Shininess:{get:function(){return g},set:function(a){"number"===typeof a&&(g=a)}},Shader:{get:function(){return k},set:function(a){a instanceof D&&(k=a)}},ImageMap:{get:function(){return l},set:function(a){if(a instanceof WebGLTexture||void 0===a)l=a}},BumpMap:{get:function(){return n},set:function(a){if(a instanceof
WebGLTexture||void 0===a)n=a}},SpecularMap:{get:function(){return m},set:function(a){if(a instanceof WebGLTexture||void 0===a)m=a}}});ia.push(this)}function ja(){var b=[];Object.defineProperties(this,{PushMatrix:{value:function(){var a=this.PeekMatrix();b.push(FWGE.Game.Maths.Matrix4.Create(a.M11,a.M12,a.M13,a.M14,a.M21,a.M22,a.M23,a.M24,a.M31,a.M32,a.M33,a.M34,a.M41,a.M42,a.M43,a.M44))}},PeekMatrix:{value:function(){return 0===b.length?FWGE.Game.Maths.Matrix4.Identity():b[b.length-1]}},PopMatrix:{value:function(){return b.pop()}},
Transform:{value:function(a){FWGE.Game.Maths.Matrix4.Set(this.PeekMatrix(),this.Shear(this.Scale(this.Rotate(this.Translate(this.PeekMatrix(),a.Position),a.Rotation),a.Scale),a.Shear))}},Translate:{value:function(a,b){return FWGE.Game.Maths.Matrix4.Create(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12],a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13],a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14],a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15])}},RotateAround:{value:function(){}},
Rotate:{value:function(a,b){return FWGE.Game.Maths.Matrix4.Mult(FWGE.Game.Maths.Matrix4.Create(1,0,0,0,0,Math.cos(b[0]),-Math.sin(b[0]),0,0,Math.sin(b[0]),Math.cos(b[0]),0,0,0,0,1),FWGE.Game.Maths.Matrix4.Mult(FWGE.Game.Maths.Matrix4.Create(Math.cos(b[1]),0,Math.sin(b[1]),0,0,1,0,0,-Math.sin(b[1]),0,Math.cos(b[1]),0,0,0,0,1),FWGE.Game.Maths.Matrix4.Mult(FWGE.Game.Maths.Matrix4.Create(Math.cos(b[2]),-Math.sin(b[2]),0,0,Math.sin(b[2]),Math.cos(b[2]),0,0,0,0,1,0,0,0,0,1),a)))}},Scale:{value:function(a,
b){return FWGE.Game.Maths.Matrix4.Create(a[0]*b[0],a[1]*b[0],a[2]*b[0],a[3]*b[0],a[4]*b[1],a[5]*b[1],a[6]*b[1],a[7]*b[1],a[8]*b[2],a[9]*b[2],a[10]*b[2],a[11]*b[2],a[12],a[13],a[14],a[15],a[12],a[13],a[14],a[15])}},Shear:{value:function(a,b){var c=Math.radian(b[0]),d=Math.radian(b[1]);b=Math.radian(b[2]);return FWGE.Game.Maths.Matrix4.Mult(FWGE.Game.Maths.Matrix4.Create(1,0,Math.tan(b),0,Math.tan(c),1,0,0,0,Math.tan(d),1,0,0,0,0,1),a)}}})}function ka(){var b=FWGE.Game.Maths.Matrix4.Identity();Object.defineProperties(this,
{ProjectionUpdate:{value:function(){switch(FWGE.Game.Camera.Mode){case FWGE.Game.Camera.PERSPECTIVE:var a=FWGE.Game.Camera.Aspect,c=FWGE.Game.Camera.Near,e=FWGE.Game.Camera.Far,f=c*Math.tan(Math.radian(FWGE.Game.Camera.FOV)),a=f*a,h=-a,g=-f,k=a-h,l=f-g,m=e-c;console.log(h,a,f,g,l,m);FWGE.Game.Maths.Matrix4.Set(b,2*c/k,0,0,0,0,2*c/l,0,0,(a+h)/k,(f+g)/l,-(e+c)/m,-1,0,0,-(2*e*c)/m,1);break;case FWGE.Game.Camera.ORTHOGRAPHIC:c=FWGE.Game.Camera.Left,e=FWGE.Game.Camera.Right,f=FWGE.Game.Camera.Top,a=FWGE.Game.Camera.Bottom,
h=FWGE.Game.Camera.Near,g=FWGE.Game.Camera.Far,k=FWGE.Game.Camera.Theta,l=FWGE.Game.Camera.Phi,k=Math.cot(Math.radian(k)),l=Math.cot(Math.radian(l)),c-=h*k,e-=h*k,f-=h*l,a-=h*l,FWGE.Game.Maths.Matrix4.Set(b,2/(e-c),0,0,0,0,2/(f-a),0,0,k,l,-2/(g-h),0,-(c+e)/(e-c),-(f+a)/(f-a),-(g+h)/(g-h),1)}}},GetViewer:{value:function(){return b}}})}function fa(){var b=new ja,a=new ka;a.ProjectionUpdate();Object.defineProperties(this,{Render:{value:function(){this.ClearBuffers();for(var a=p.length;0<=--a;)this.SetGlobalUniforms(),
this.RenderObject(p[a])}},ClearBuffers:{value:function(){for(var a=t.length;0<=--a;)c.bindFramebuffer(c.FRAMEBUFFER,t[a].FrameBuffer),c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);c.bindFramebuffer(c.FRAMEBUFFER,null);c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)}},RenderObject:{value:function(a){b.PushMatrix();b.Transform(a.Transform);for(var d=a.Children.length;0<=--d;)this.RenderObject(a.Children[d]);
a.Mesh&&a.Material&&(d=a.Material.Shader,c.useProgram(d.Program),c.enableVertexAttribArray(d.Attributes.Position),-1!==d.Attributes.Normal&&c.enableVertexAttribArray(d.Attributes.Normal),-1!==d.Attributes.Colour&&c.enableVertexAttribArray(d.Attributes.Colour),-1!==d.Attributes.UV&&c.enableVertexAttribArray(d.Attributes.UV),1!==a.Material.Alpha&&(c.enable(c.BLEND),c.disable(c.DEPTH_TEST),c.blendFunc(c.SRC_ALPHA,c.ONE)),this.BindAttributes(a.Mesh,a.Material,a.Material.Shader.Attributes),this.SetObjectUniforms(a.Material,
a.Material.Shader.Uniforms),this.Draw(a.Mesh.VertexCount),1!==a.Material.Alpha&&(c.enable(c.DEPTH_TEST),c.disable(c.BLEND)),c.disableVertexAttribArray(d.Attributes.Position),-1!==d.Attributes.Normal&&c.disableVertexAttribArray(d.Attributes.Normal),-1!==d.Attributes.Colour&&c.disableVertexAttribArray(d.Attributes.Colour),-1!==d.Attributes.UV&&c.disableVertexAttribArray(d.Attributes.UV),c.useProgram(null));b.PopMatrix()}},BindAttributes:{value:function(a,b,f){c.bindBuffer(c.ARRAY_BUFFER,a.PositionBuffer);
c.vertexAttribPointer(f.Position,3,c.FLOAT,!1,0,0);-1!==f.UV&&(a.UVBuffer?(c.bindBuffer(c.ARRAY_BUFFER,a.UVBuffer),c.vertexAttribPointer(f.UV,2,c.FLOAT,!1,0,0)):c.disableVertexAttribArray(f.UV));-1!==f.Colour&&(a.ColourBuffer?(c.bindBuffer(c.ARRAY_BUFFER,a.ColourBuffer),c.vertexAttribPointer(f.Colour,3,c.FLOAT,!1,0,0)):c.disableVertexAttribArray(f.Colour));-1!==f.Normal&&(a.NormalBuffer?(c.bindBuffer(c.ARRAY_BUFFER,a.NormalBuffer),c.vertexAttribPointer(f.Normal,3,c.FLOAT,!1,0,0)):c.disableVertexAttribArray(f.Normal));
c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a.IndexBuffer)}},SetObjectUniforms:{value:function(a,e){c.uniformMatrix4fv(e.Matrix.ModelView,!1,b.PeekMatrix());c.uniformMatrix3fv(e.Matrix.Normal,!1,this.CalculateNormalMatrix());c.uniform3fv(e.Material.Ambient,a.Ambient);c.uniform3fv(e.Material.Diffuse,a.Diffuse);c.uniform3fv(e.Material.Specular,a.Specular);c.uniform1f(e.Material.Shininess,a.Shininess);c.uniform1f(e.Material.Alpha,a.Alpha);a.Image?(c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,a.Image),
c.uniform1i(e.Material.HasImageMap,!0),c.uniform1i(e.Sampler.Image,0)):(c.bindTexture(c.TEXTURE_2D,null),c.uniform1i(e.Material.HasImageMap,!1));a.Bump?(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,a.Bump),c.uniform1i(e.Material.HasBumpMap,!0),c.uniform1i(e.Sampler.Bump,1)):(c.bindTexture(c.TEXTURE_2D,null),c.uniform1i(e.Material.HasBumpMap,!1))}},SetGlobalUniforms:{value:function(){for(var d=t.length;0<=--d;){var e=0;c.useProgram(t[d].Program);for(var f=t[d].Uniforms.Light,h=m.length;0<=
--h;){var g=m[d];if(g)switch(g.Type){case "AMBIENTLIGHT":c.uniform3fv(f.Ambient.Colour,g.Colour);c.uniform1f(f.Ambient.Intensity,g.Intensity);break;case "DIRECTIONALLIGHT":c.uniform3fv(f.Directional.Colour,g.Colour);c.uniform1f(f.Directional.Intensity,g.Intensity);c.uniform3fv(f.Directional.Direction,g.Direction);break;case "POINTLIGHT":b.PushMatrix();b.Transform(g.Transform);var k=b.PopMatrix();c.uniform3fv(f.Point[e].Colour,g.Colour);c.uniform1f(f.Point[e].Intensity,g.Intensity);c.uniform3f(f.Point[e].Position,
k.M41,k.M42,k.M43);c.uniform1f(f.Point[e].Radius,g.Radius);c.uniform1f(f.Point[e].Angle,g.Angle);e++}}c.uniform1i(f.PointCount,e);c.uniformMatrix4fv(t[d].Uniforms.Matrix.Projection,!1,a.GetViewer())}c.useProgram(null)}},CalculateNormalMatrix:{value:function(){var a=b.PeekMatrix();FWGE.Game.Maths.Matrix4.Inverse(a);return FWGE.Game.Maths.Matrix3.Create(a.M11,a.M21,a.M31,a.M12,a.M22,a.M32,a.M13,a.M23,a.M33)}},Draw:{value:function(a){console.log(a);c.drawElements(c.TRIANGLES,a,c.UNSIGNED_SHORT,0)}},
FinalDraw:{value:function(){}}})}var c=void 0;Object.defineProperties(Math,{cot:{value:function(b){return 1/Math.tan(b)}},radian:{value:function(b){return Math.PI/180*b}},clamp:{value:function(b,a,c){return Math.max(Math.min(b,c),main)}}});var M=new function(){var b=0;this.next=function(){return b++}},p=[];Object.defineProperties(q.prototype,{constructor:{value:q},Clone:{value:function(b){b=b instanceof q?b:this;for(var a=new q({name:b.name,material:b.Material,mesh:b.Mesh,transform:new u({position:b.Transform.Position,
rotation:b.Transform.Rotation,scale:b.Transform.Scale,shear:b.Transform.Shear}),physics:b.Physics,animation:b.Animation}),c=0;c<b.Children.length;++c)a.Children.push(b.Children[c].Clone());return a}},Destroy:{value:function(b){setTimeout(function(){for(var a=p.length;0<=--a;)p[a]===this&&p.slice(a,1)})}},ObjectUpdate:{value:function(){this.Update();this.Transform.TransformUpdate();this.PhysicsItem&&this.PhysicsItem.PhysicsUpdate();this.Animation&&this.Animation.AnimationUpdate();this.LightItem&&this.LightItem.LightUpdate();
this.ParticleSystem&&this.ParticleSystem.ParticleSystemUpdate()}}});Object.defineProperties(u.prototype,{constructor:{value:u},TransformUpdate:{value:function(){}}});var m=Array(12),t=[],ha=[],ia=[];Object.defineProperties(y.prototype,{constructor:{value:y},SetTexture:{value:function(b){function a(a,b){b=new Image;b.onload=function(){};b.src=a}b||(b={});"string"===typeof b.image&&a(b.image,this.ImageMap);"string"===typeof b.bump&&a(b.bump,this.BumpMap);"string"===typeof b.specular&&a(b.specular,this.Specular)}}});
window.FWGE=new function(){Object.defineProperties(this,{Game:{value:new F},Physics:{value:new Y},Render:{value:new ca},Init:{value:function(b){b||(b={});b.clear||(b.clear=[0,0,0,0]);c=canvas.getContext("webgl")||canvas.getContext("experimental-webgl");if(!c)throw"Webgl context could not be initialized.";c.clearColor(b.clear[0]||0,b.clear[1]||0,b.clear[2]||0,b.clear[3]||0);this.Game.Init();this.Physics.Init();this.Render.Init()}},Start:{value:function(){c&&this.Game.Start()}},Stop:{value:function(){this.Game.Stop()}}})}})();